function RecordRTC(e,t){function n(){return t.disableLogs||console.debug("started recording "+t.type+" stream."),d?(d.clearRecordedData(),d.resume(),u.recordingDuration&&c(),u):(i(function(){u.recordingDuration&&c()}),u)}function i(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var i=new GetRecorderType(e,t);d=new i(e,t),d.record(),t.disableLogs||console.debug("Initialized recorderType:",d.constructor.name,"for output-type:",t.type)}function o(e){function n(n){for(var o in d)u&&(u[o]=d[o]),i&&(i[o]=d[o]);var a=d.blob;if(!a){if(!n)throw"Recording failed.";d.blob=a=n}if(e){var r=URL.createObjectURL(a);e(r)}a&&!t.disableLogs&&console.debug(a.type,"->",bytesToSize(a.size)),t.autoWriteToDisk&&l(function(e){var n={};n[t.type+"Blob"]=e,DiskStorage.Store(n)})}if(!d)return console.warn(p);var i=this;t.disableLogs||console.warn("Stopped recording "+t.type+" stream."),"gif"!==t.type?d.stop(n):(d.stop(),n())}function a(){return d?(d.pause(),void(t.disableLogs||console.debug("Paused recording."))):console.warn(p)}function r(){return d?(d.resume(),void(t.disableLogs||console.debug("Resumed recording."))):console.warn(p)}function s(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(e,n){function i(e){var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n}if(!e)throw"Pass a callback function over getDataURL.";var o=n?n.blob:(d||{}).blob;if(!o)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout(function(){l(e,n)},1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var a=new FileReader;a.readAsDataURL(o),a.onload=function(t){e(t.target.result)}}else{var r=i(s);r.onmessage=function(t){e(t.data)},r.postMessage(o)}}function c(){setTimeout(function(){o(u.onRecordingStopped)},u.recordingDuration)}if(!e)throw"MediaStream is mandatory.";t=t||{type:"video"},t=new RecordRTCConfiguration(e,t);var d,u=this,p='It seems that "startRecording" is not invoked for '+t.type+" recorder.",h={startRecording:n,stopRecording:o,pauseRecording:a,resumeRecording:r,initRecorder:i,setRecordingDuration:function(e,t){if("undefined"==typeof e)throw"milliseconds is required.";if("number"!=typeof e)throw"milliseconds must be a number.";return u.recordingDuration=e,u.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){u.onRecordingStopped=e}}},clearRecordedData:function(){return d?(d.clearRecordedData(),void(t.disableLogs||console.debug("Cleared old recorded data."))):console.warn(p)},getBlob:function(){return d?d.blob:console.warn(p)},getDataURL:l,toURL:function(){return d?URL.createObjectURL(d.blob):console.warn(p)},save:function(e){return d?void invokeSaveAsDialog(d.blob,e):console.warn(p)},getFromDisk:function(e){return d?void RecordRTC.getFromDisk(t.type,e):console.warn(p)},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,i=0;i<n;i++)t.advertisement.push({duration:i,image:e[i]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,view:null};if(!this)return u=h,h;for(var f in h)this[f]=h[f];return u=this,h}function RecordRTCConfiguration(e,t){return t.recorderType&&!t.type&&(t.recorderType===WhammyRecorder||t.recorderType===CanvasRecorder?t.type="video":t.recorderType===GifRecorder?t.type="gif":t.recorderType===StereoAudioRecorder?t.type="audio":t.recorderType===MediaStreamRecorder&&(e.getAudioTracks().length&&e.getVideoTracks().length?t.type="video":e.getAudioTracks().length&&!e.getVideoTracks().length?t.type="audio":!e.getAudioTracks().length&&e.getVideoTracks().length&&(t.type="audio"))),"undefined"!=typeof MediaStreamRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),!t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function GetRecorderType(e,t){var n;return(isChrome||isEdge||isOpera)&&(n=StereoAudioRecorder),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!isChrome&&(n=MediaStreamRecorder),"video"===t.type&&(isChrome||isOpera)&&(n=WhammyRecorder),"gif"===t.type&&(n=GifRecorder),"canvas"===t.type&&(n=CanvasRecorder),isMediaRecorderCompatible()&&n!==CanvasRecorder&&n!==GifRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&e.getVideoTracks().length&&(n=MediaStreamRecorder),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.debug("Using recorderType:",n.name||n.constructor.name),n}function MRecordRTC(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,i=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&isMediaRecorderCompatible()&&e.getAudioTracks&&!e.getAudioTracks().length&&(n.audio=!1),"function"!=typeof n.video&&isMediaRecorderCompatible()&&e.getVideoTracks&&!e.getVideoTracks().length&&(n.video=!1),!n.audio&&!n.video)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new RecordRTC(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:i.audio}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var o=e;if(isMediaRecorderCompatible()&&n.audio&&"function"==typeof n.audio){var a=e.getVideoTracks()[0];navigator.mozGetUserMedia?(o=new MediaStream,o.addTrack(a),t&&t===WhammyRecorder&&(t=MediaStreamRecorder)):o=new MediaStream([a])}this.videoRecorder=new RecordRTC(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.video}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var r=this;isMediaRecorderCompatible()?(r.audioRecorder=null,r.videoRecorder.startRecording()):r.videoRecorder.initRecorder(function(){r.audioRecorder.initRecorder(function(){r.videoRecorder.startRecording(),r.audioRecorder.startRecording()})})}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new RecordRTC(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(t){e(t,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(t){e(t,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(t){e(t,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var i=n(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});i.onmessage=function(e){t(e.data)},i.postMessage(e)}else{var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){t(e.target.result)}}}function n(e){var t,n=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),i=new Worker(n);if("undefined"!=typeof URL)t=URL;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),i}this.getBlob(function(n){n.audio&&n.video?t(n.audio,function(i){t(n.video,function(t){e({audio:i,video:t})})}):n.audio?t(n.audio,function(t){e({audio:t})}):n.video&&t(n.video,function(t){e({video:t})})})},this.writeToDisk=function(){RecordRTC.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){e=e||{audio:!0,video:!0,gif:!0},e.audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}function bytesToSize(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,i)).toPrecision(3)+" "+n[i]}function invokeSaveAsDialog(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(n){}var i=(e.type||"video/webm").split("/")[1];if(t&&t.indexOf(".")!==-1){var o=t.split(".");t=o[0],i=o[1]}var a=(t||Math.round(9999999999*Math.random())+888888888)+"."+i;if("undefined"!=typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,a);if("undefined"!=typeof navigator.msSaveBlob)return navigator.msSaveBlob(e,a);var r=document.createElement("a");r.href=URL.createObjectURL(e),r.target="_blank",r.download=a,navigator.mozGetUserMedia&&(r.onclick=function(){(document.body||document.documentElement).removeChild(r)},(document.body||document.documentElement).appendChild(r));var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});r.dispatchEvent(s),navigator.mozGetUserMedia||URL.revokeObjectURL(r.href)}function isMediaRecorderCompatible(){var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t=!!window.chrome&&!e,n="undefined"!=typeof window.InstallTrigger;if(n)return!0;var i,o,a=(navigator.appVersion,navigator.userAgent),r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10);return(t||e)&&(i=a.indexOf("Chrome"),r=a.substring(i+7)),(o=r.indexOf(";"))!==-1&&(r=r.substring(0,o)),(o=r.indexOf(" "))!==-1&&(r=r.substring(0,o)),s=parseInt(""+r,10),isNaN(s)&&(r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10)),s>=49}function MediaStreamRecorder(e,t){function n(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}var i=this;if(t=t||{mimeType:"video/webm"},"audio"===t.type){if(e.getVideoTracks().length&&e.getAudioTracks().length){var o;navigator.mozGetUserMedia?(o=new MediaStream,o.addTrack(e.getAudioTracks()[0])):o=new MediaStream(e.getAudioTracks()),e=o}t.mimeType&&t.mimeType.toString().toLowerCase().indexOf("audio")!==-1||(t.mimeType=isChrome?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}this.record=function(){i.blob=null;var n=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",n),a&&(a=null),isChrome&&!isMediaRecorderCompatible()&&(n="video/vp8");try{a=new MediaRecorder(e,n)}catch(o){a=new MediaRecorder(e)}"canRecordMimeType"in a&&a.canRecordMimeType(t.mimeType)===!1&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",t.mimeType)),a.ignoreMutedMedia=t.ignoreMutedMedia||!1,a.ondataavailable=function(e){i.dontFireOnDataAvailableEvent||!e.data||!e.data.size||e.data.size<100||i.blob||(i.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:t.mimeType||"video/webm"}),i.recordingCallback&&(i.recordingCallback(i.blob),i.recordingCallback=null))},a.onerror=function(e){t.disableLogs||("InvalidState"===e.name?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed."):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute."):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute."):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute."):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),"inactive"!==a.state&&"stopped"!==a.state&&a.stop()},a.start(36e5),t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback()},this.stop=function(e){a&&(this.recordingCallback=function(t){a=null,e&&e(t)},"recording"===a.state&&a.stop())},this.pause=function(){a&&"recording"===a.state&&a.pause()},this.resume=function(){if(this.dontFireOnDataAvailableEvent){this.dontFireOnDataAvailableEvent=!1;var e=t.disableLogs;return t.disableLogs=!0,this.record(),void(t.disableLogs=e)}a&&"paused"===a.state&&a.resume()},this.clearRecordedData=function(){a&&(this.pause(),this.dontFireOnDataAvailableEvent=!0,this.stop())};var a,i=this;!function r(){if(a)return n()===!1?(t.disableLogs||console.log("MediaStream seems stopped."),void i.stop()):void setTimeout(r,1e3)}()}function StereoAudioRecorder(e,t){function n(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function i(e,t){function n(e,t){function n(e,t){for(var n=new Float64Array(t),i=0,o=e.length,a=0;a<o;a++){var r=e[a];n.set(r,i),i+=r.length}return n}function i(e,t){for(var n=e.length+t.length,i=new Float64Array(n),o=0,a=0;a<n;)i[a++]=e[o],i[a++]=t[o],o++;return i}function o(e,t,n){for(var i=n.length,o=0;o<i;o++)e.setUint8(t+o,n.charCodeAt(o))}var a=e.numberOfAudioChannels,r=e.leftBuffers.slice(0),s=e.rightBuffers.slice(0),l=e.sampleRate,c=e.internalInterleavedLength;2===a&&(r=n(r,c),s=n(s,c)),1===a&&(r=n(r,c));var d;2===a&&(d=i(r,s)),1===a&&(d=r);var u=d.length,p=44+2*u,h=new ArrayBuffer(p),f=new DataView(h);o(f,0,"RIFF"),f.setUint32(4,44+2*u,!0),o(f,8,"WAVE"),o(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,a,!0),f.setUint32(24,l,!0),f.setUint32(28,2*l,!0),f.setUint16(32,2*a,!0),f.setUint16(34,16,!0),o(f,36,"data"),f.setUint32(40,2*u,!0);for(var g=u,m=44,v=1,b=0;b<g;b++)f.setInt16(m,d[b]*(32767*v),!0),m+=2;return t?t({buffer:h,view:f}):void postMessage({buffer:h,view:f})}if(!isChrome)return void n(e,function(e){t(e.buffer,e.view)});var i=o(n);i.onmessage=function(e){t(e.data.buffer,e.data.view),URL.revokeObjectURL(i.workerURL)},i.postMessage(e)}function o(e){var t=URL.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(t);return n.workerURL=t,n}function a(e){if(!b){if(n()===!1&&(t.disableLogs||console.log("MediaStream seems stopped."),r.disconnect(),d=!1),!d)return void f.disconnect();w||(w=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var i=e.inputBuffer.getChannelData(0);if(l.push(new Float32Array(i)),2===p){var o=e.inputBuffer.getChannelData(1);c.push(new Float32Array(o))}u+=m}}if(!e.getAudioTracks().length)throw"Your stream has no audio tracks.";t=t||{};var r,s=this,l=[],c=[],d=!1,u=0,p=2;t.leftChannel===!0&&(p=1),1===t.numberOfAudioChannels&&(p=1),t.disableLogs||console.debug("StereoAudioRecorder is set to record number of channels: ",p),this.record=function(){if(n()===!1)throw"Please make sure MediaStream is active.";l.length=c.length=0,u=0,f&&f.connect(r),w=b=!1,d=!0},this.stop=function(e){d=!1,i({sampleRate:v,numberOfAudioChannels:p,internalInterleavedLength:u,leftBuffers:l,rightBuffers:1===p?[]:c},function(t,n){s.blob=new Blob([n],{type:"audio/wav"}),s.buffer=new ArrayBuffer(n.buffer.byteLength),s.view=n,s.sampleRate=v,s.bufferSize=m,s.length=u,e&&e(),w=!1})},Storage.AudioContextConstructor||(Storage.AudioContextConstructor=new Storage.AudioContext);var h=Storage.AudioContextConstructor,f=h.createMediaStreamSource(e),g=[0,256,512,1024,2048,4096,8192,16384],m="undefined"==typeof t.bufferSize?4096:t.bufferSize;if(g.indexOf(m)===-1&&(t.disableLogs||console.warn("Legal values for buffer-size are "+JSON.stringify(g,null,"\t"))),h.createJavaScriptNode)r=h.createJavaScriptNode(m,p,p);else{if(!h.createScriptProcessor)throw"WebAudio API has no support on this browser.";r=h.createScriptProcessor(m,p,p)}f.connect(r),t.bufferSize||(m=r.bufferSize);var v="undefined"!=typeof t.sampleRate?t.sampleRate:h.sampleRate||44100;(v<22050||v>96e3)&&(t.disableLogs||console.warn("sample-rate must be under range 22050 and 96000.")),t.disableLogs||(console.log("sample-rate",v),console.log("buffer-size",m));var b=!1;this.pause=function(){b=!0},this.resume=function(){if(n()===!1)throw"Please make sure MediaStream is active.";return d?void(b=!1):(t.disableLogs||console.info("Seems recording has been restarted."),void this.record())},this.clearRecordedData=function(){this.pause(),l.length=c.length=0,u=0};var w=!1;r.onaudioprocess=a,r.connect(h.destination)}function CanvasRecorder(e,t){function n(){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}function i(){if(u)return p=(new Date).getTime(),setTimeout(i,500);if("canvas"===e.nodeName.toLowerCase()){var o=(new Date).getTime()-p;return p=(new Date).getTime(),h.frames.push({image:n(),duration:o}),void(d&&setTimeout(i,t.frameInterval))}html2canvas(e,{grabMouse:"undefined"==typeof t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-p;return n?(p=(new Date).getTime(),h.frames.push({image:e.toDataURL("image/webp",1),duration:n}),void(d&&setTimeout(i,t.frameInterval))):setTimeout(i,t.frameInterval)}})}if("undefined"==typeof html2canvas&&"canvas"!==e.nodeName.toLowerCase())throw"Please link: https://cdn.webrtc-experiment.com/screenshot.js";t=t||{},t.frameInterval||(t.frameInterval=10);var o=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){e in document.createElement("canvas")&&(o=!0)});var a=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),r=50,s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);a&&s&&s[2]&&(r=parseInt(s[2],10)),a&&r<52&&(o=!1);var l,c;if(o)if(t.disableLogs||console.debug("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)l=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";l=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var d;this.record=function(){if(d=!0,o){var e;"captureStream"in l?e=l.captureStream(25):"mozCaptureStream"in l?e=l.mozCaptureStream(25):"webkitCaptureStream"in l&&(e=l.webkitCaptureStream(25));try{var n=new MediaStream;n.addTrack(e.getVideoTracks()[0]),e=n}catch(a){}if(!e)throw"captureStream API are NOT available.";c=new MediaStreamRecorder(e,{mimeType:"video/webm"}),c.record()}else h.frames=[],p=(new Date).getTime(),i();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"!==e.nodeName.toLowerCase())return void n();var i=h.frames.length;h.frames.forEach(function(e,n){var o=i-n;t.disableLogs||console.debug(o+"/"+i+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(o,i);var a=e.image.toDataURL("image/webp",1);h.frames[n].image=a}),t.disableLogs||console.debug("Generating WebM"),n()},this.stop=function(e){d=!1;var n=this;return o&&c?void c.stop(e):void this.getWebPImages(function(){h.compile(function(i){t.disableLogs||console.debug("Recording finished!"),n.blob=i,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob),h.frames=[]})})};var u=!1;this.pause=function(){u=!0},this.resume=function(){u=!1,d||this.record()},this.clearRecordedData=function(){this.pause(),h.frames=[]};var p=(new Date).getTime(),h=new Whammy.Video(100)}function WhammyRecorder(e,t){function n(e){e="undefined"!=typeof e?e:10;var t=(new Date).getTime()-l;return t?r?(l=(new Date).getTime(),setTimeout(n,100)):(l=(new Date).getTime(),s.paused&&s.play(),u.drawImage(s,0,0,d.width,d.height),c.frames.push({duration:t,image:d.toDataURL("image/webp")}),void(a||setTimeout(n,e,e))):setTimeout(n,e,e)}function i(e){var t=-1,n=e.length,i=function(){return t++,t===n?void e.callback():void e.functionToLoop(i,t)};i()}function o(e,t,n,o,a){var r=document.createElement("canvas");r.width=d.width,r.height=d.height;var s=r.getContext("2d"),l=[],c=t===-1,u=t&&t>0&&t<=e.length?t:e.length,p={r:0,g:0,b:0},h=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),f=n&&n>=0&&n<=1?n:0,g=o&&o>=0&&o<=1?o:0,m=!1;i({length:u,functionToLoop:function(t,n){var i,o,a,r=function(){!m&&a-i<=a*g||(c&&(m=!0),l.push(e[n])),t()};if(m)r();else{var u=new Image;u.onload=function(){s.drawImage(u,0,0,d.width,d.height);var e=s.getImageData(0,0,d.width,d.height);i=0,o=e.data.length,a=e.data.length/4;for(var t=0;t<o;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]},l=Math.sqrt(Math.pow(n.r-p.r,2)+Math.pow(n.g-p.g,2)+Math.pow(n.b-p.b,2));l<=h*f&&i++}r()},u.src=e[n].image}},callback:function(){l=l.concat(e.slice(u)),l.length<=0&&l.push(e[e.length-1]),a(l)}})}t=t||{},t.frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),d.width=t.canvas.width,d.height=t.canvas.height,u=d.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(s=t.video.cloneNode(),t.initCallback&&t.initCallback()):(s=document.createElement("video"),"undefined"!=typeof s.srcObject?s.srcObject=e:s.src=URL.createObjectURL(e),s.onloadedmetadata=function(){t.initCallback&&t.initCallback()},s.width=t.video.width,s.height=t.video.height),s.muted=!0,s.play(),l=(new Date).getTime(),c=new Whammy.Video,t.disableLogs||(console.log("canvas resolutions",d.width,"*",d.height),console.log("video width/height",s.width||d.width,"*",s.height||d.height)),n(t.frameInterval)};var a=!1;this.stop=function(e){a=!0;var n=this;setTimeout(function(){o(c.frames,-1,null,null,function(i){c.frames=i,t.advertisement&&t.advertisement.length&&(c.frames=t.advertisement.concat(c.frames)),c.compile(function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)})})},10)};var r=!1;this.pause=function(){r=!0},this.resume=function(){r=!1,a&&this.record()},this.clearRecordedData=function(){this.pause(),c.frames=[]};var s,l,c,d=document.createElement("canvas"),u=d.getContext("2d")}function GifRecorder(e,t){if("undefined"==typeof GIFEncoder)throw"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";t=t||{};var n=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){function e(s){return i?setTimeout(function(){e(s)},100):(u=requestAnimationFrame(e),void 0===typeof c&&(c=s),void(s-c<90||(!n&&r.paused&&r.play(),n||a.drawImage(r,0,0,o.width,o.height),t.onGifPreview&&t.onGifPreview(o.toDataURL("image/png")),d.addFrame(a),c=s)))}n||(t.width||(t.width=r.offsetWidth||320),this.height||(t.height=r.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),o.width=t.canvas.width,o.height=t.canvas.height,r.width=t.video.width,r.height=t.video.height),d=new GIFEncoder,d.setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),s=Date.now();u=requestAnimationFrame(e),t.initCallback&&t.initCallback()},this.stop=function(){u&&cancelAnimationFrame(u),l=Date.now(),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),d.stream().bin=[]};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.clearRecordedData=function(){d&&(this.pause(),d.stream().bin=[])};var o=document.createElement("canvas"),a=o.getContext("2d");if(n&&(e instanceof CanvasRenderingContext2D?(a=e,o=a.canvas):e instanceof HTMLCanvasElement&&(a=e.getContext("2d"),o=e)),!n){var r=document.createElement("video");r.muted=!0,r.autoplay=!0,"undefined"!=typeof r.srcObject?r.srcObject=e:r.src=URL.createObjectURL(e),r.play()}var s,l,c,d,u=null}if(angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var n=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,i,o){function a(){i.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),n?n(i,{addClass:"in",easing:"ease",to:{height:i[0].scrollHeight+"px"}}).start()["finally"](r):e.addClass(i,"in",{to:{height:i[0].scrollHeight+"px"}}).then(r)}function r(){i.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function s(){return i.hasClass("collapse")||i.hasClass("in")?(i.css({height:i[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(n?n(i,{removeClass:"in",to:{height:"0"}}).start()["finally"](l):e.removeClass(i,"in",{to:{height:"0"}}).then(l))):l()}function l(){i.css({height:"0"}),i.removeClass("collapsing").addClass("collapse")}t.$watch(o.uibCollapse,function(e){e?s():a()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(e,t,n,i){var o=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,a,r){function s(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),o?o(a,{easing:"ease",to:{height:a[0].scrollHeight+"px"}}).start().done(l):e.animate(a,{},{height:a[0].scrollHeight+"px"}).then(l)}function l(){a.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function c(){return a.hasClass("collapse")||a.hasClass("in")?(a.css({height:a[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(o?o(a,{to:{height:"0"}}).start().done(d):e.animate(a,{},{height:"0"}).then(d))):d()}function d(){a.css({height:"0"}),a.removeClass("collapsing").addClass("collapse")}i||n.warn("collapse is now deprecated. Use uib-collapse instead."),t.$watch(r.collapse,function(e){e?c():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var o=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;o&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,o){i.setHeading(o(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,i){i=i[0]?i[0]:i[1],e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,i,o){o||i.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(n,i,o,a){t||e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),a.addGroup(n),n.openClass=o.openClass||"panel-open",n.panelClass=o.panelClass,n.$watch("isOpen",function(e){i.toggleClass(n.openClass,!!e),e&&a.closeOthers(n)}),n.toggleOpen=function(e){n.isDisabled||e&&32!==e.which||(n.isOpen=!n.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,i,o,a,r){t||e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),a.setHeading(r(n,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordionGroup",link:function(n,i,o,a){t||e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),n.$watch(function(){return a[o.accordionTransclude]},function(e){e&&(i.find("span").html(""),i.find("span").append(e))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,i){e.closeable=!!t.close;var o=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,i,o){o||i.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.");
}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,t,n,i){var o=i[0],a=i[1];t.find("input").css({display:"none"}),a.$render=function(){t.toggleClass(o.activeClass,angular.equals(a.$modelValue,e.$eval(n.uibBtnRadio)))},t.on(o.toggleEvent,function(){if(!n.disabled){var i=t.hasClass(o.activeClass);i&&!angular.isDefined(n.uncheckable)||e.$apply(function(){a.$setViewValue(i?null:e.$eval(n.uibBtnRadio)),a.$render()})}})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function o(){return r(n.btnCheckboxTrue,!0)}function a(){return r(n.btnCheckboxFalse,!1)}function r(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,o()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?a():o()),l.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,t){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(n,i,o,a){t||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var r=a[0],s=a[1];i.find("input").css({display:"none"}),s.$render=function(){i.toggleClass(r.activeClass,angular.equals(s.$modelValue,n.$eval(o.btnRadio)))},i.bind(r.toggleEvent,function(){if(!o.disabled){var e=i.hasClass(r.activeClass);e&&!angular.isDefined(o.uncheckable)||n.$apply(function(){s.$setViewValue(e?null:n.$eval(o.btnRadio)),s.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,t,n){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(i,o,a,r){function s(){return c(a.btnCheckboxTrue,!0)}function l(){return c(a.btnCheckboxFalse,!1)}function c(e,t){var n=i.$eval(e);return angular.isDefined(n)?n:t}n||t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var d=r[0],u=r[1];o.find("input").css({display:"none"}),u.$render=function(){o.toggleClass(d.activeClass,angular.equals(u.$modelValue,s()))},o.bind(d.toggleEvent,function(){a.disabled||i.$apply(function(){u.$setViewValue(o.hasClass(d.activeClass)?l():s()),u.$render()})}),o.on("keypress",function(t){a.disabled||32!==t.which||e[0].activeElement!==o[0]||i.$apply(function(){u.$setViewValue(o.hasClass(d.activeClass)?l():s()),u.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(e,t,n,i){function o(t,n,o){b||(angular.extend(t,{direction:o,active:!0}),angular.extend(p.currentSlide||{},{direction:o,active:!1}),i.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&p.slides.length>1&&(t.$element.data(m,t.direction),p.currentSlide&&p.currentSlide.$element&&p.currentSlide.$element.data(m,t.direction),e.$currentTransition=!0,f?i.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),p.currentSlide=t,v=n,r())}function a(e){if(angular.isUndefined(h[e].index))return h[e];var t;h.length;for(t=0;t<h.length;++t)if(h[t].index==e)return h[t]}function r(){s();var t=+e.interval;!isNaN(t)&&t>0&&(d=n(l,t))}function s(){d&&(n.cancel(d),d=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&h.length?e.next():e.pause()}function c(t){t.length||(e.$currentTransition=null)}var d,u,p=this,h=p.slides=e.slides=[],f=angular.version.minor>=4,g="uib-noTransition",m="uib-slideDirection",v=-1;p.currentSlide=null;var b=!1;p.select=e.select=function(t,n){var i=e.indexOfSlide(t);void 0===n&&(n=i>p.getCurrentIndex()?"next":"prev"),t&&t!==p.currentSlide&&!e.$currentTransition&&o(t,i,n)},e.$on("$destroy",function(){b=!0}),p.getCurrentIndex=function(){return p.currentSlide&&angular.isDefined(p.currentSlide.index)?+p.currentSlide.index:v},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:h.indexOf(e)},e.next=function(){var t=(p.getCurrentIndex()+1)%h.length;return 0===t&&e.noWrap()?void e.pause():p.select(a(t),"next")},e.prev=function(){var t=p.getCurrentIndex()-1<0?h.length-1:p.getCurrentIndex()-1;return e.noWrap()&&t===h.length-1?void e.pause():p.select(a(t),"prev")},e.isActive=function(e){return p.currentSlide===e},e.$watch("interval",r),e.$watchCollection("slides",c),e.$on("$destroy",s),e.play=function(){u||(u=!0,r())},e.pause=function(){e.noPause||(u=!1,s())},p.addSlide=function(t,n){t.$element=n,h.push(t),1===h.length||t.active?(p.select(h[h.length-1]),1===h.length&&e.play()):t.active=!1},p.removeSlide=function(e){angular.isDefined(e.index)&&h.sort(function(e,t){return+e.index>+t.index});var t=h.indexOf(e);h.splice(t,1),h.length>0&&e.active?t>=h.length?p.select(h[t-1]):p.select(h[t]):v>t&&v--,0===h.length&&(p.currentSlide=null)},e.$watch("noTransition",function(e){t.data(g,e)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var i="uib-noTransition",o="uib-slideDirection",a=null;return e.has("$animateCss")&&(a=e.get("$animateCss")),{beforeAddClass:function(e,r,s){if("active"==r&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)){var l=!1,c=e.data(o),d="next"==c?"left":"right",u=n.bind(this,e,d+" "+c,s);return e.addClass(c),a?a(e,{addClass:d}).start().done(u):t.addClass(e,d).then(function(){l||u(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,r,s){if("active"===r&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)){var l=!1,c=e.data(o),d="next"==c?"left":"right",u=n.bind(this,e,d,s);return a?a(e,{addClass:d}).start().done(u):t.addClass(e,d).then(function(){l||u(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,i,o){o||i.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(e,t){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(n,i,o,a){t||e.warn("slide is now deprecated. Use uib-slide instead."),a.addSlide(n,i),n.$on("$destroy",function(){a.removeSlide(n)}),n.$watch("active",function(e){e&&a.select(n)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,n){function i(e){var t=[],i=e.split("");return angular.forEach(r,function(n,o){var a=e.indexOf(o);if(a>-1){e=e.split(""),i[a]="("+n.regex+")",e[a]="$";for(var r=a+1,s=a+o.length;r<s;r++)i[r]="",e[r]="$";e=e.join(""),t.push({index:a,apply:n.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(t,"index")}}function o(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}var a,r,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){a=t.id,this.parsers={},r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(n,r,l){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(s,"\\$&"),t.id!==a&&this.init(),this.parsers[r]||(this.parsers[r]=i(r));var c=this.parsers[r],d=c.regex,u=c.map,p=n.match(d);if(p&&p.length){var h,f;angular.isDate(l)&&!isNaN(l.getTime())?h={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,m=p.length;g<m;g++){var v=u[g-1];v.apply&&v.apply.call(h,p[g])}return o(h.year,h.month,h.date)&&(angular.isDate(l)&&!isNaN(l.getTime())?(f=new Date(l),f.setFullYear(h.year,h.month,h.date,h.hours,h.minutes,h.seconds,h.milliseconds||0)):f=new Date(h.year,h.month,h.date,h.hours,h.minutes,h.seconds,h.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var o=function(t){for(var n=e[0],o=t.offsetParent||n;o&&o!==n&&i(o);)o=o.offsetParent;return o||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},a=o(t[0]);a!=e[0]&&(i=this.offset(angular.element(a)),i.top+=a.clientTop-a.scrollTop,i.left+=a.clientLeft-a.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var o,a,r,s,l=n.split("-"),c=l[0],d=l[1]||"center";o=i?this.offset(e):this.position(e),a=t.prop("offsetWidth"),r=t.prop("offsetHeight");var u={center:function(){return o.left+o.width/2-a/2},left:function(){return o.left},right:function(){return o.left+o.width}},p={center:function(){return o.top+o.height/2-r/2},top:function(){return o.top},bottom:function(){return o.top+o.height}};switch(c){case"right":s={top:p[d](),left:u[c]()};break;case"left":s={top:p[d](),left:o.left-a};break;case"bottom":s={top:p[c](),left:u[d]()};break;default:s={top:o.top-r,left:u[d]()}}return s}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(e,t,n,i,o,a,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,o){l[n]=angular.isDefined(t[n])?o<6?i(t[n])(e.$parent):e.$parent.$eval(t[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=r[i]?new Date(r[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){l[i]=angular.isDefined(n)?n:t[i],e[i]=l[i],("minMode"==i&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[i])||"maxMode"==i&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[i]))&&(e.datepickerMode=l[i])}):(l[i]=r[i]||null,e[i]=l[i])}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1],e.customMonthChange({month:l.activeDate.getMonth(),year:l.activeDate.getFullYear()}).then(function(e){l.refreshView()})},e.move=function(t){var n=l.activeDate.getFullYear()+t*(l.step.years||0),i=l.activeDate.getMonth()+t*(l.step.months||0);e.customMonthChange({month:i,year:n}).then(function(e){l.activeDate.setFullYear(n,i,1),l.refreshView()})},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&t===-1||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var d=function(){l.element[0].focus()};e.$on("uib:datepicker.focus",d),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):e.toggleMode("up"===n?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?a[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),o=new Date(e),a=0;a<t;)n=new Date(o),i[a++]=n,o.setDate(o.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(t,i,1);var r=this.startingDay-a.getDay(),s=r>0?7-r:-r,l=new Date(a);s>0&&l.setDate(-s+1);for(var c=this.getDates(l,42),d=0;d<42;d++)c[d]=angular.extend(this.createDateObject(c[d],this.formatDay),{secondary:c[d].getMonth()!==i,uid:e.uniqueId+"-"+d});e.labels=new Array(7);for(var u=0;u<7;u++)e.labels[u]={abbr:n(c[u].date,this.formatDayHeader),full:n(c[u].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,h=e.rows.length,f=0;f<h;f++)e.weekNumbers.push(o(e.rows[f][p].date))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var o=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(o,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),o=this.activeDate.getFullYear(),a=0;a<12;a++)t=new Date(this.activeDate),t.setFullYear(o,a,1),i[a]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+a});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/o,10)*o+1}var o;this.element=t,this.yearpickerInit=function(){o=this.yearRange,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),a=0,r=i(this.activeDate.getFullYear());a<o;a++)t=new Date(this.activeDate),t.setFullYear(r+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?",customMonthChange:"&"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var o=i[0],a=i[1];o.init(a)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var o=i[0]||i[2],a=i[1];a.init(o)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var o=i[0]||i[2],a=i[1];a.init(o)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var o=i[0]||i[2];angular.extend(o,i[1]),o.yearpickerInit(),o.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(e,t,n,i,o,a,r,s,l,c,d,u){function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(t){angular.isNumber(t)&&(t=new Date(t));{if(!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var n=c.parse(t,v,e.date);return isNaN(n)?void 0:n}}}function f(e,t){var i=e||t;if(!n.ngRequired&&!i)return!0;if(angular.isNumber(i)&&(i=new Date(i)),i){if(angular.isDate(i)&&!isNaN(i))return!0;if(angular.isString(i)){var o=c.parse(i,v);return!isNaN(o)}return!1}return!0}function g(n){var i=x[0],o=t[0].contains(n.target),a=void 0!==i.contains&&i.contains(n.target);!e.isOpen||o||a||e.$apply(function(){e.isOpen=!1})}function m(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}var v,b,w,y,$,C,k,D,T,x,S={},M=!1;e.watchData={},this.init=function(s){if(T=s,b=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):d.closeOnDateSelection,w=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):d.appendToBody,y=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):d.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:d.datepickerPopupTemplateUrl,C=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:d.datepickerTemplateUrl,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):d.showButtonBar,d.html5Types[n.type]?(v=d.html5Types[n.type],M=!0):(v=n.datepickerPopup||n.uibDatepickerPopup||d.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||d.datepickerPopup;if(n!==v&&(v=n,T.$modelValue=null,!v))throw new Error("uibDatepickerPopup must have a date format specified.")})),!v)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&n.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(k=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),k.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$}),D=angular.element(k.children()[0]),D.attr("template-url",C),M&&"month"===n.type&&(D.attr("datepicker-mode",'"month"'),D.attr("min-mode","month")),n.datepickerOptions){var u=e.$parent.$eval(n.datepickerOptions);u&&u.initDate&&(e.initDate=u.initDate,D.attr("init-date","initDate"),delete u.initDate),angular.forEach(u,function(e,t){D.attr(p(t),e)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(n[t]){var i=o(n[t]);if(e.$parent.$watch(i,function(n){e.watchData[t]=n,"minDate"!==t&&"maxDate"!==t||(S[t]=new Date(n))}),D.attr(p(t),"watchData."+t),"datepickerMode"===t){var a=i.assign;e.$watch("watchData."+t,function(t,n){angular.isFunction(a)&&t!==n&&a(e.$parent,t)})}}}),n.dateDisabled&&D.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.showWeeks&&D.attr("show-weeks",n.showWeeks),n.customClass&&D.attr("custom-class","customClass({ date: date, mode: mode })"),M?T.$formatters.push(function(t){return e.date=t,t}):(T.$$parserName="date",T.$validators.date=f,T.$parsers.unshift(h),T.$formatters.push(function(t){return e.date=t,T.$isEmpty(t)?t:l(t,v)})),T.$viewChangeListeners.push(function(){e.date=c.parse(T.$viewValue,v,e.date)}),t.bind("keydown",m),x=i(k)(e),k.remove(),w?a.find("body").append(x):t.after(x),e.$on("$destroy",function(){e.isOpen===!0&&(r.$$phase||e.$apply(function(){e.isOpen=!1})),x.remove(),t.unbind("keydown",m),a.unbind("click",g)})},e.getText=function(t){return e[t+"Text"]||d[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,S.minDate)<0||e.watchData.maxDate&&e.compare(t,S.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var i=e.date?l(e.date,v):null;t.val(i),T.$setViewValue(i),b&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.$watch("isOpen",function(n){n?(e.position=w?s.offset(t):s.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),u(function(){y&&e.$broadcast("uib:datepicker.focus"),a.bind("click",g)},0,!1)):a.unbind("click",g)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,i){var o=i[0],a=i[1];a.init(o)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(e,t,n,i,o,a,r,s,l){l||o.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var c=this,d={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,o){c[n]=angular.isDefined(t[n])?o<6?i(t[n])(e.$parent):e.$parent.$eval(t[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){c[i]=e?new Date(e):null,c.refreshView()}):c[i]=r[i]?new Date(r[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){c[i]=angular.isDefined(n)?n:t[i],e[i]=c[i],("minMode"==i&&c.modes.indexOf(e.datepickerMode)<c.modes.indexOf(c[i])||"maxMode"==i&&c.modes.indexOf(e.datepickerMode)>c.modes.indexOf(c[i]))&&(e.datepickerMode=c[i])}):(c[i]=r[i]||null,e[i]=c[i])}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(d.$isEmpty(d.$modelValue)||d.$invalid)&&(c.activeDate=e,c.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===c.compare(t.date,c.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){d=e,d.$render=function(){c.render()}},this.render=function(){if(d.$viewValue){var e=new Date(d.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=d.$viewValue?new Date(d.$viewValue):null;d.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=d.$viewValue?new Date(d.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===c.minMode){var n=d.$viewValue?new Date(d.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),d.$setViewValue(n),d.$render()}else c.activeDate=t,e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=c.activeDate.getFullYear()+e*(c.step.years||0),n=c.activeDate.getMonth()+e*(c.step.months||0);c.activeDate.setFullYear(t,n,1),c.refreshView();
},e.toggleMode=function(t){t=t||1,e.datepickerMode===c.maxMode&&1===t||e.datepickerMode===c.minMode&&t===-1||(e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){c.element[0].focus()};e.$on("uib:datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),c.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(c.isDisabled(c.activeDate))return;e.select(c.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(c.handleKeyDown(n,t),c.refreshView()):e.toggleMode("up"===n?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(n,i,o,a){t||e.warn("datepicker is now deprecated. Use uib-datepicker instead.");var r=a[0],s=a[1];r.init(s)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(n,i,o,a){t||e.warn("daypicker is now deprecated. Use uib-daypicker instead.");var r=a[0],s=a[1];s.init(r)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(n,i,o,a){t||e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var r=a[0],s=a[1];s.init(r)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(n,i,o,a){t||e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var r=a[0];angular.extend(r,a[1]),r.yearpickerInit(),r.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(e,t){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(n,i,o,a){t||e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var r=a[0],s=a[1];s.init(r)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",i),e.bind("keydown",o)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",i),e.unbind("keydown",o))};var i=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var o=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&o&&o[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},o=function(e){27===e.which?(n.focusToggleElement(),i()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,o,a,r,s,l,c,d){var u,p,h=this,f=e.$new(),g=o.openClass,m=angular.noop,v=n.onToggle?i(n.onToggle):angular.noop,b=!1,w=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(p=i(n.isOpen),m=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),b=angular.isDefined(n.dropdownAppendToBody),w=angular.isDefined(n.uibKeyboardNav),b&&h.dropdownMenu&&(l.find("body").append(h.dropdownMenu),t.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return h.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return w},f.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=n.length-1}n[h.selectedOption].focus()},f.getDropdownElement=function(){return h.dropdownMenu},f.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(b&&h.dropdownMenu){var o=s.positionElements(t,h.dropdownMenu,"bottom-left",!0),l={top:o.top+"px",display:n?"block":"none"},p=h.dropdownMenu.hasClass("dropdown-menu-right");p?(l.left="auto",l.right=window.innerWidth-(o.left+t.prop("offsetWidth"))+"px"):(l.left=o.left+"px",l.right="auto"),h.dropdownMenu.css(l)}if(r[n?"addClass":"removeClass"](t,g).then(function(){angular.isDefined(n)&&n!==i&&v(e,{open:!!n})}),n)h.dropdownMenuTemplateUrl&&d(h.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),c(e.trim())(u,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t})}),f.focusToggleElement(),a.open(f);else{if(h.dropdownMenuTemplateUrl){u&&u.$destroy();var w=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(w),h.dropdownMenu=w}a.close(f),h.selectedOption=null}angular.isFunction(m)&&m(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var y=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",y)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var o=n.templateUrl;o&&(i.dropdownMenuTemplateUrl=o),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if([38,40].indexOf(e.which)!==-1){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var o=function(o){o.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",o),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",o)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(e,t,n,i,o,a,r,s,l,c,d,u,p){p||u.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var h,f,g=this,m=e.$new(),v=o.openClass,b=angular.noop,w=n.onToggle?i(n.onToggle):angular.noop,y=!1,$=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(f=i(n.isOpen),b=f.assign,e.$watch(f,function(e){m.isOpen=!!e})),y=angular.isDefined(n.dropdownAppendToBody),$=angular.isDefined(n.uibKeyboardNav),y&&g.dropdownMenu&&(l.find("body").append(g.dropdownMenu),t.on("$destroy",function(){g.dropdownMenu.remove()}))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return g.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return $},m.focusDropdownEntry=function(e){var n=g.dropdownMenu?angular.element(g.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(g.selectedOption)?g.selectedOption=g.selectedOption===n.length-1?g.selectedOption:g.selectedOption+1:g.selectedOption=0;break;case 38:angular.isNumber(g.selectedOption)?g.selectedOption=0===g.selectedOption?0:g.selectedOption-1:g.selectedOption=n.length-1}n[g.selectedOption].focus()},m.getDropdownElement=function(){return g.dropdownMenu},m.focusToggleElement=function(){g.toggleElement&&g.toggleElement[0].focus()},m.$watch("isOpen",function(n,i){if(y&&g.dropdownMenu){var o=s.positionElements(t,g.dropdownMenu,"bottom-left",!0),l={top:o.top+"px",display:n?"block":"none"},u=g.dropdownMenu.hasClass("dropdown-menu-right");u?(l.left="auto",l.right=window.innerWidth-(o.left+t.prop("offsetWidth"))+"px"):(l.left=o.left+"px",l.right="auto"),g.dropdownMenu.css(l)}if(r[n?"addClass":"removeClass"](t,v).then(function(){angular.isDefined(n)&&n!==i&&w(e,{open:!!n})}),n)g.dropdownMenuTemplateUrl&&d(g.dropdownMenuTemplateUrl).then(function(e){h=m.$new(),c(e.trim())(h,function(e){var t=e;g.dropdownMenu.replaceWith(t),g.dropdownMenu=t})}),m.focusToggleElement(),a.open(m);else{if(g.dropdownMenuTemplateUrl){h&&h.$destroy();var p=angular.element('<ul class="dropdown-menu"></ul>');g.dropdownMenu.replaceWith(p),g.dropdownMenu=p}a.close(m),g.selectedOption=null}angular.isFunction(b)&&b(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)});var C=e.$on("$destroy",function(){m.$destroy()});m.$on("$destroy",C)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,t){return{controller:"DropdownController",link:function(n,i,o,a){t||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),a.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"AC",require:"?^dropdown",link:function(n,i,o,a){if(a&&!angular.isDefined(o.dropdownNested)){t||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),i.addClass("dropdown-menu");var r=o.templateUrl;r&&(a.dropdownMenuTemplateUrl=r),a.dropdownMenu||(a.dropdownMenu=i)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"A",require:"?^dropdown",link:function(n,i,o,a){t||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),i.bind("keydown",function(e){if([38,40].indexOf(e.which)!==-1){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(a.selectedOption)?a.selectedOption=a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:a.selectedOption=0;break;case 38:angular.isNumber(a.selectedOption)?a.selectedOption=0===a.selectedOption?0:a.selectedOption-1:a.selectedOption=t.length-1}t[a.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,t){return{require:"?^dropdown",link:function(n,i,o,a){if(t||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),a){i.addClass("dropdown-toggle"),a.toggleElement=i;var r=function(e){e.preventDefault(),i.hasClass("disabled")||o.disabled||n.$apply(function(){a.toggle()})};i.bind("click",r),i.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(a.isOpen,function(e){i.attr("aria-expanded",!!e)}),n.$on("$destroy",function(){i.unbind("click",r)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var o=i.indexOf(n);o!==-1&&i.splice(o,1),i.length||delete e[t]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,a){i.addClass("modal-backdrop"),a.modalInClass&&(o?o(i,{addClass:a.modalInClass}).start():e.addClass(i,a.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var r=n();o?o(i,{removeClass:a.modalInClass}).start().then(r):e.removeClass(i,a.modalInClass).then(r)}))}var o=null;return t.has("$animateCss")&&(o=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,t,n,i){var o=null;return i.has("$animateCss")&&(o=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,a,r){a.addClass(r.windowClass||""),a.addClass(r.windowTopClass||""),i.size=r.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",i.close),i.$isRendered=!0;var s=t.defer();r.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=o?o(a,{addClass:r.modalInClass}).start():n.addClass(a,r.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();o?o(a,{removeClass:r.modalInClass}).start().then(i):n.removeClass(a,r.modalInClass).then(i)})),t.when(s).then(function(){var e=a[0].querySelector("[autofocus]");e?e.focus():a[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,i,o){o(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,i,o,a,r,s,l){function c(){for(var e=-1,t=y.keys(),n=0;n<t.length;n++)y.get(t[n]).value.backdrop&&(e=n);return e}function d(e,t){var i=n.find("body").eq(0),o=y.get(e).value;y.remove(e),h(o.modalDomEl,o.modalScope,function(){var t=o.openedClass||w;$.remove(t,e),i.toggleClass(t,$.hasKey(t)),u(!0)}),p(),t&&t.focus?t.focus():i.focus()}function u(e){var t;y.length()>0&&(t=y.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function p(){if(m&&c()==-1){var e=v;h(m,v,function(){e=null}),m=void 0,v=void 0}}function h(t,n,i){function o(){o.done||(o.done=!0,g?g(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),i&&i())}var r,s=null,l=function(){return r||(r=a.defer(),s=r.promise),function(){r.resolve()}};return n.$broadcast(C.NOW_CLOSING_EVENT,l),a.when(s).then(o)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var g=null;r.has("$animateCss")&&(g=r.get("$animateCss"));var m,v,b,w="modal-open",y=l.createNew(),$=s.createNew(),C={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,D="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return o.$watch(c,function(e){v&&(v.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),o.$apply(function(){C.dismiss(t.key,"escape key press")});break;case 9:C.loadFocusElementList(t);var n=!1;e.shiftKey?C.isFocusInFirstItem(e)&&(n=C.focusLastFocusableElement()):C.isFocusInLastItem(e)&&(n=C.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),C.open=function(e,t){var a=n[0].activeElement,r=t.openedClass||w;u(!1),y.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),$.put(r,e);var s=n.find("body").eq(0),l=c();if(l>=0&&!m){v=o.$new(!0),v.index=l;var d=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');d.attr("backdrop-class",t.backdropClass),t.animation&&d.attr("modal-animation","true"),m=i(d)(v),s.append(m)}var p=angular.element('<div uib-modal-window="modal-window"></div>');p.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:y.length()-1,animate:"animate"}).html(t.content),t.animation&&p.attr("modal-animation","true");var h=i(p)(t.scope);y.top().value.modalDomEl=h,y.top().value.modalOpener=a,s.append(h),s.addClass(r),C.clearFocusListCache()},C.close=function(e,t){var n=y.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),d(e,n.value.modalOpener),!0):!n},C.dismiss=function(e,t){var n=y.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),d(e,n.value.modalOpener),!0):!n},C.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},C.getTop=function(){return y.top()},C.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},C.focusFirstFocusableElement=function(){return b.length>0&&(b[0].focus(),!0)},C.focusLastFocusableElement=function(){return b.length>0&&(b[b.length-1].focus(),!0)},C.isFocusInFirstItem=function(e){return b.length>0&&(e.target||e.srcElement)==b[0]},C.isFocusInLastItem=function(e){return b.length>0&&(e.target||e.srcElement)==b[b.length-1]},C.clearFocusListCache=function(){b=[],k=0},C.loadFocusElementList=function(e){if((void 0===b||!b.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(b=t[0].querySelectorAll(D))}},C}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(t,n,i,o,a,r,s,l){function c(e){return e.template?i.when(e.template):o(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function d(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(i.when(t.invoke(e))):angular.isString(e)?n.push(i.when(t.get(e))):n.push(i.when(e))}),n}var u={},p=null;return u.getPromiseChain=function(){return p},u.open=function(t){function o(){return v}var u=i.defer(),h=i.defer(),f=i.defer(),g={result:u.promise,opened:h.promise,rendered:f.promise,close:function(e){return r.close(g,e)},dismiss:function(e){return r.dismiss(g,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=i.all([c(t)].concat(d(t.resolve)));return m=p=i.all([p]).then(o,o).then(function(e){var i=(t.scope||n).$new();i.$close=g.close,i.$dismiss=g.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var o,c={},d=1;t.controller&&(c.$scope=i,c.$uibModalInstance=g,Object.defineProperty(c,"$modalInstance",{get:function(){return s||l.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),g}}),angular.forEach(t.resolve,function(t,n){c[n]=e[d++]}),o=a(t.controller,c),t.controllerAs&&(t.bindToController&&angular.extend(o,i),i[t.controllerAs]=o)),r.open(g,{scope:i,deferred:u,renderDeferred:f,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowTopClass:t.windowTopClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),h.resolve(!0)},function(e){h.reject(e),u.reject(e)})["finally"](function(){p===m&&(p=null)}),g},u}]};return e}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,t,n,i,o){function a(t,a,s){o||i.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),a.addClass("modal-backdrop"),s.modalInClass&&(r?r(a,{addClass:s.modalInClass}).start():e.addClass(a,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var i=n();r?r(a,{removeClass:s.modalInClass}).start().then(i):e.removeClass(a,s.modalInClass).then(i)}))}var r=null;return t.has("$animateCss")&&(r=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,t,n,i,o,a){var r=null;return i.has("$animateCss")&&(r=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,s,l){a||o.warn("modal-window is now deprecated. Use uib-modal-window instead."),s.addClass(l.windowClass||""),s.addClass(l.windowTopClass||""),i.size=l.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",i.close),i.$isRendered=!0;var c=t.defer();l.$observe("modalRender",function(e){"true"==e&&c.resolve()}),c.promise.then(function(){var o=null;l.modalInClass&&(o=r?r(s,{addClass:l.modalInClass}).start():n.addClass(s,l.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();r?r(s,{removeClass:l.modalInClass}).start().then(i):n.removeClass(s,l.modalInClass).then(i)})),t.when(o).then(function(){var e=s[0].querySelector("[autofocus]");e?e.focus():s[0].focus()});var a=e.getTop();a&&e.modalRendered(a.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,t){return{compile:function(n,i){t||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),i.modalAnimation&&n.addClass(i.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,t){return{link:function(n,i,o,a,r){t||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),r(n.$parent,function(e){i.empty(),i.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,i,o,a,r,s,l,c,d,u){u||d.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,c)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(t,n,i){return i||n.warn("$modal is now deprecated. Use $uibModal instead."),t.invoke(e.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,o={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,s){o=r,this.config=s,o.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):o.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(o.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),o.$setViewValue(t),o.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,i,o,a){function r(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,o=t,a=angular.isDefined(d)&&d<t;a&&(u?(i=Math.max(e-Math.floor(d/2),1),o=i+d-1,o>t&&(o=t,i=o-d+1)):(i=(Math.ceil(e/d)-1)*d+1,o=Math.min(i+d-1,t)));for(var s=i;s<=o;s++){var l=r(s,s,s===e);n.push(l)}if(a&&!u){if(i>1){var c=r(i-1,"...",!1);n.unshift(c)}if(o<t){var p=r(o+1,"...",!1);n.push(p)}}return n}var l=a[0],c=a[1];if(c){var d=angular.isDefined(o.maxSize)?n.$parent.$eval(o.maxSize):t.maxSize,u=angular.isDefined(o.rotate)?n.$parent.$eval(o.rotate):t.rotate;n.boundaryLinks=angular.isDefined(o.boundaryLinks)?n.$parent.$eval(o.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(o.directionLinks)?n.$parent.$eval(o.directionLinks):t.directionLinks,l.init(c,t),o.maxSize&&n.$parent.$watch(e(o.maxSize),function(e){d=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,i,o){var a=o[0],r=o[1];r&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,a.init(r,e))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(e,t,n,i,o){o||i.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var a=this,r={$setViewValue:angular.noop},s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(i,o){r=i,this.config=o,r.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){s(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(e,t,n,i){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(o,a,r,s){function l(e,t,n){return{number:e,text:t,active:n}}function c(e,t){var n=[],i=1,o=t,a=angular.isDefined(p)&&p<t;a&&(h?(i=Math.max(e-Math.floor(p/2),1),o=i+p-1,o>t&&(o=t,i=o-p+1)):(i=(Math.ceil(e/p)-1)*p+1,o=Math.min(i+p-1,t)));for(var r=i;r<=o;r++){var s=l(r,r,r===e);n.push(s)}if(a&&!h){if(i>1){var c=l(i-1,"...",!1);n.unshift(c)}if(o<t){var d=l(o+1,"...",!1);n.push(d)}}return n}i||n.warn("pagination is now deprecated. Use uib-pagination instead.");var d=s[0],u=s[1];if(u){var p=angular.isDefined(r.maxSize)?o.$parent.$eval(r.maxSize):t.maxSize,h=angular.isDefined(r.rotate)?o.$parent.$eval(r.rotate):t.rotate;o.boundaryLinks=angular.isDefined(r.boundaryLinks)?o.$parent.$eval(r.boundaryLinks):t.boundaryLinks,o.directionLinks=angular.isDefined(r.directionLinks)?o.$parent.$eval(r.directionLinks):t.directionLinks,d.init(u,t),r.maxSize&&o.$parent.$watch(e(r.maxSize),function(e){p=parseInt(e,10),d.render()});var f=d.render;d.render=function(){f(),o.page>0&&o.page<=o.totalPages&&(o.pages=c(o.page,o.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(e,t,n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(i,o,a,r){n||t.warn("pager is now deprecated. Use uib-pager instead.");var s=r[0],l=r[1];l&&(i.align=angular.isDefined(a.align)?i.$parent.$eval(a.align):e.align,s.init(l,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(o,a,r,s,l,c,d,u,p){var h=p.createNew();return s.on("keypress",function(e){if(27===e.which){var t=h.top();t&&(t.value.close(),h.removeTop(),t=null)}}),function(o,d,p,f){function g(e){var t=(e||f.trigger||p).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}f=angular.extend({},t,i,f);var m=e(o),v=c.startSymbol(),b=c.endSymbol(),w="<div "+m+'-popup title="'+v+"title"+b+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';
return{compile:function(e,t){var n=a(w);return function(e,t,i,a){function c(){L.isOpen?m():p()}function p(){N&&!e.$eval(i[d+"Enable"])||(y(),k(),L.popupDelay?U||(U=r(v,L.popupDelay,!1)):v())}function m(){b(),L.popupCloseDelay?O||(O=r(w,L.popupCloseDelay,!1)):w()}function v(){return b(),y(),L.content?($(),void L.$evalAsync(function(){L.isOpen=!0,D(!0),V()})):angular.noop}function b(){U&&(r.cancel(U),U=null),A&&(r.cancel(A),A=null)}function w(){b(),y(),L&&L.$evalAsync(function(){L.isOpen=!1,D(!1),L.animation?P||(P=r(C,150,!1)):C()})}function y(){O&&(r.cancel(O),O=null),P&&(r.cancel(P),P=null)}function $(){M||(R=L.$new(),M=n(R,function(e){E?s.find("body").append(e):t.after(e)}),T())}function C(){x(),P=null,M&&(M.remove(),M=null),R&&(R.$destroy(),R=null)}function k(){L.title=i[d+"Title"],F?L.content=F(e):L.content=i[o],L.popupClass=i[d+"Class"],L.placement=angular.isDefined(i[d+"Placement"])?i[d+"Placement"]:f.placement;var t=parseInt(i[d+"PopupDelay"],10),n=parseInt(i[d+"PopupCloseDelay"],10);L.popupDelay=isNaN(t)?f.popupDelay:t,L.popupCloseDelay=isNaN(n)?f.popupCloseDelay:n}function D(t){H&&angular.isFunction(H.assign)&&H.assign(e,t)}function T(){B.length=0,F?(B.push(e.$watch(F,function(e){L.content=e,!e&&L.isOpen&&w()})),B.push(R.$watch(function(){W||(W=!0,R.$$postDigest(function(){W=!1,L&&L.isOpen&&V()}))}))):B.push(i.$observe(o,function(e){L.content=e,!e&&L.isOpen?w():V()})),B.push(i.$observe(d+"Title",function(e){L.title=e,L.isOpen&&V()})),B.push(i.$observe(d+"Placement",function(e){L.placement=e?e:f.placement,L.isOpen&&V()}))}function x(){B.length&&(angular.forEach(B,function(e){e()}),B.length=0)}function S(){var e=i[d+"Trigger"];q(),I=g(e),"none"!==I.show&&I.show.forEach(function(e,n){e===I.hide[n]?t[0].addEventListener(e,c):e&&(t[0].addEventListener(e,p),I.hide[n].split(" ").forEach(function(e){t[0].addEventListener(e,m)})),t.on("keypress",function(e){27===e.which&&m()})})}var M,R,P,U,O,A,E=!!angular.isDefined(f.appendToBody)&&f.appendToBody,I=g(void 0),N=angular.isDefined(i[d+"Enable"]),L=e.$new(!0),W=!1,H=!!angular.isDefined(i[d+"IsOpen"])&&u(i[d+"IsOpen"]),F=!!f.useContentExp&&u(i[o]),B=[],V=function(){M&&M.html()&&(A||(A=r(function(){M.css({top:0,left:0});var e=l.positionElements(t,M,L.placement,E);e.top+="px",e.left+="px",e.visibility="visible",M.css(e),A=null},0,!1)))};L.origScope=e,L.isOpen=!1,h.add(L,{close:w}),L.contentExp=function(){return L.content},i.$observe("disabled",function(e){e&&b(),e&&L.isOpen&&w()}),H&&e.$watch(H,function(e){L&&!e===L.isOpen&&c()});var q=function(){I.show.forEach(function(e){t.unbind(e,p)}),I.hide.forEach(function(e){e.split(" ").forEach(function(e){t[0].removeEventListener(e,m)})})};S();var j=e.$eval(i[d+"Animation"]);L.animation=angular.isDefined(j)?!!j:f.animation;var z=e.$eval(i[d+"AppendToBody"]);E=angular.isDefined(z)?z:E,E&&e.$on("$locationChangeSuccess",function(){L.isOpen&&w()}),e.$on("$destroy",function(){b(),y(),q(),C(),h.remove(L),L=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(o,a,r){var s,l,c,d=o.$eval(r.tooltipTemplateTranscludeScope),u=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};o.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++u;t?(i(t,!0).then(function(i){if(r===u){var o=d.$new(),l=i,h=n(l)(o,function(t){p(),e.enter(t,a)});s=o,c=h,s.$emit("$includeContentLoaded",t)}},function(){r===u&&(p(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):p()}),o.$on("$destroy",p)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,i){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),i.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,i,o,a){return{link:function(r,s,l){a||o.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var c,d,u,p=r.$eval(l.tooltipTemplateTranscludeScope),h=0,f=function(){d&&(d.remove(),d=null),c&&(c.$destroy(),c=null),u&&(e.leave(u).then(function(){d=null}),d=u,u=null)};r.$watch(t.parseAsResourceUrl(l.tooltipTemplateTransclude),function(t){var o=++h;t?(i(t,!0).then(function(i){if(o===h){var a=p.$new(),r=i,l=n(r)(a,function(t){f(),e.enter(t,s)});c=a,u=l,c.$emit("$includeContentLoaded",t)}},function(){o===h&&(f(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):f()}),r.$on("$destroy",f)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,i,o){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&i.addClass(n.placement),n.popupClass&&i.addClass(n.popupClass),n.animation()&&i.addClass(o.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,i){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),i.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,i){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,i){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,i){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),i.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,i){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),i.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,i){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),i.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,a){o||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=a&&angular.isDefined(a.title)?a.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("max",function(t){i.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(e,t,n,i,o){o||i.warn("ProgressController is now deprecated. Use UibProgressController instead.");var a=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,i){r||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=i&&angular.isDefined(i.title)?i.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=a.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(t){a.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,i,o,a){t||e.warn("bar is now deprecated. Use uib-bar instead."),a.addBar(n,i)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,i,o,a){t||e.warn("progressbar is now deprecated. Use uib-progressbar instead."),a.addBar(n,angular.element(i.children()[0]),{title:o.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(o){i=o,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(i.$viewValue===t?0:t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var o=i[0],a=i[1];o.init(a)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,i,o){o||i.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(e,t){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,i,o,a){t||e.warn("rating is now deprecated. Use uib-rating instead.");var r=a[0],s=a[1];r.init(s)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var o=n.indexOf(e);if(e.active&&n.length>1&&!i){var a=o==n.length-1?o-1:o+1;t.select(n[a])}n.splice(o,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,i,o,a){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(t,n,i){var o=t.$eval(i.uibTabContentTransclude);o.$transcludeFn(o.$parent,function(t){angular.forEach(t,function(t){e(t)?o.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,i){i||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,i,o){t||e.warn("tabset is now deprecated. Use uib-tabset instead."),n.vertical=!!angular.isDefined(o.vertical)&&n.$parent.$eval(o.vertical),n.justified=!!angular.isDefined(o.justified)&&n.$parent.$eval(o.justified)}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(e,t,n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(i,o,a,r,s){n||t.warn("tab is now deprecated. Use uib-tab instead."),i.$watch("active",function(e){e&&r.select(i)}),i.disabled=!1,a.disable&&i.$parent.$watch(e(a.disable),function(e){i.disabled=!!e}),i.select=function(){i.disabled||(i.active=!0)},r.addTab(i),i.$on("$destroy",function(){r.removeTab(i)}),i.$transcludeFn=s}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tab",link:function(n,i){t||e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),n.$watch("headingElement",function(e){e&&(i.html(""),i.append(e))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(e,t){function n(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(i,o,a){t||e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var r=i.$eval(a.tabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){n(e)?r.headingElement=e:o.append(e)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,o,a,r){function s(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&t<13:t>=0&&t<24;if(n)return e.showMeridian&&(12===t&&(t=0),e.meridian===v[1]&&(t+=12)),t}function l(){var t=parseInt(e.minutes,10);return t>=0&&t<60?t:void 0}function c(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function d(e){u(),m.$setViewValue(new Date(g)),p(e)}function u(){m.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=g.getHours(),i=g.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n),"m"!==t&&(e.minutes=c(i)),e.meridian=g.getHours()<12?v[0]:v[1]}function h(e,t){var n=new Date(e.getTime()+6e4*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes()),i}function f(e){g=h(g,e),d()}var g=new Date,m={$setViewValue:angular.noop},v=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):r.meridians||a.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){m=t,m.$render=this.render,m.$formatters.unshift(function(e){return e?new Date(e):null});var o=i.eq(0),a=i.eq(1),s=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):r.mousewheel;s&&this.setupMousewheelEvents(o,a);var l=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):r.arrowkeys;l&&this.setupArrowkeyEvents(o,a),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):r.readonlyInput,this.setupInputEvents(o,a)};var b=r.hourStep;n.hourStep&&e.$parent.$watch(i(n.hourStep),function(e){b=parseInt(e,10)});var w=r.minuteStep;n.minuteStep&&e.$parent.$watch(i(n.minuteStep),function(e){w=parseInt(e,10)});var y;e.$parent.$watch(i(n.min),function(e){var t=new Date(e);y=isNaN(t)?void 0:t});var $;e.$parent.$watch(i(n.max),function(e){var t=new Date(e);$=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=h(g,60*b);return e>$||e<g&&e<y},e.noDecrementHours=function(){var e=h(g,60*-b);return e<y||e>g&&e>$},e.noIncrementMinutes=function(){var e=h(g,w);return e>$||e<g&&e<y},e.noDecrementMinutes=function(){var e=h(g,-w);return e<y||e>g&&e>$},e.noToggleMeridian=function(){return g.getHours()<13?h(g,720)>$:h(g,-720)<y},e.showMeridian=r.showMeridian,n.showMeridian&&e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,m.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(g.setHours(n),d())}else p()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){m.$setViewValue(null),m.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=s(),t=l();angular.isDefined(e)&&angular.isDefined(t)?(g.setHours(e),g<y||g>$?i(!0):d("h")):i(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours)})}),e.updateMinutes=function(){var e=l(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(g.setMinutes(e),g<y||g>$?i(void 0,!0):d("m")):i(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})})},this.render=function(){var t=m.$viewValue;isNaN(t)?(m.$setValidity("time",!1),o.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(g=t),g<y||g>$?(m.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),p())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):r.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*b)},e.decrementHours=function(){e.noDecrementHours()||f(60*-b)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(w)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-w)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(g.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var o=i[0],a=i[1];a&&o.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,i,o,a){a||o.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,i("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(e,t){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(n,i,o,a){t||e.warn("timepicker is now deprecated. Use uib-timepicker instead.");var r=a[0],s=a[1];s&&r.init(s,i.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,i,o,a,r,s,l,c,d,u){function p(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),j&&r.cancel(j),j=r(function(){N.matches.length&&h(),N.moveInProgress=!1},v)}function h(){N.position=M?d.offset(t):d.position(t),N.position.top+=t.prop("offsetHeight")}var f,g,m=[9,13,27,38,40],v=200,b=e.$eval(n.typeaheadMinLength);b||0===b||(b=1);var w,y,$=e.$eval(n.typeaheadWaitMs)||0,C=e.$eval(n.typeaheadEditable)!==!1,k=o(n.typeaheadLoading).assign||angular.noop,D=o(n.typeaheadOnSelect),T=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),x=o(n.typeaheadNoResults).assign||angular.noop,S=n.typeaheadInputFormatter?o(n.typeaheadInputFormatter):void 0,M=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),R=n.typeaheadAppendToElementId||!1,P=e.$eval(n.typeaheadFocusFirst)!==!1,U=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),O=o(n.ngModel),A=o(n.ngModel+"($$$p)"),E=function(t,n){return angular.isFunction(O(e))&&g&&g.$options&&g.$options.getterSetter?A(t,{$$$p:n}):O.assign(t,n)},I=u.parse(n.uibTypeahead),N=e.$new(),L=e.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",L);var W="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":W});var H=angular.element("<div uib-typeahead-popup></div>");H.attr({id:W,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&H.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var F=function(){N.matches=[],N.activeIdx=-1,t.attr("aria-expanded",!1)},B=function(e){return W+"-option-"+e};N.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",B(e))});var V=function(e,t){return!!(N.matches.length>t&&e)&&e.toUpperCase()===N.matches[t].label.toUpperCase()},q=function(n){var i={$viewValue:n};k(e,!0),x(e,!1),a.when(I.source(e,i)).then(function(o){var a=n===f.$viewValue;if(a&&w)if(o&&o.length>0){N.activeIdx=P?0:-1,x(e,!1),N.matches.length=0;for(var r=0;r<o.length;r++)i[I.itemName]=o[r],N.matches.push({id:B(r),label:I.viewMapper(N,i),model:o[r]});N.query=n,h(),t.attr("aria-expanded",!0),U&&1===N.matches.length&&V(n,0)&&N.select(0)}else F(),x(e,!0);a&&k(e,!1)},function(){F(),k(e,!1),x(e,!0)})};M&&(angular.element(l).bind("resize",p),s.find("body").bind("scroll",p));var j;N.moveInProgress=!1,N.query=void 0;var z,_=function(e){z=r(function(){q(e)},$)},Y=function(){z&&r.cancel(z)};F(),N.select=function(i){var o,a,s={};y=!0,s[I.itemName]=a=N.matches[i].model,o=I.modelMapper(e,s),E(e,o),f.$setValidity("editable",!0),f.$setValidity("parse",!0),D(e,{$item:a,$model:o,$label:I.viewMapper(e,s)}),F(),N.$eval(n.typeaheadFocusOnSelect)!==!1&&r(function(){t[0].focus()},0,!1)},t.bind("keydown",function(e){if(0!==N.matches.length&&m.indexOf(e.which)!==-1){if(N.activeIdx===-1&&(9===e.which||13===e.which))return F(),void N.$digest();e.preventDefault(),40===e.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===e.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===e.which||9===e.which?N.$apply(function(){N.select(N.activeIdx)}):27===e.which&&(e.stopPropagation(),F(),N.$digest())}}),t.bind("blur",function(){T&&N.matches.length&&N.activeIdx!==-1&&!y&&(y=!0,N.$apply(function(){N.select(N.activeIdx)})),w=!1,y=!1});var G=function(e){t[0]!==e.target&&3!==e.which&&0!==N.matches.length&&(F(),c.$$phase||N.$digest())};s.bind("click",G),e.$on("$destroy",function(){s.unbind("click",G),(M||R)&&K.remove(),M&&(angular.element(l).unbind("resize",p),s.find("body").unbind("scroll",p)),H.remove()});var K=i(H)(N);M?s.find("body").append(K):R!==!1?angular.element(s[0].getElementById(R)).append(K):t.after(K),
this.init=function(t,n){f=t,g=n,f.$parsers.unshift(function(t){return w=!0,0===b||t&&t.length>=b?$>0?(Y(),_(t)):q(t):(k(e,!1),Y(),F()),C?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(t){var n,i,o={};return C||f.$setValidity("editable",!0),S?(o.$model=t,S(e,o)):(o[I.itemName]=t,n=I.viewMapper(e,o),o[I.itemName]=void 0,i=I.viewMapper(e,o),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var r=n(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(i,function(e){o.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,r){return!a&&o(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(i(r),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i){return i||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i,o,a,r,s,l,c,d){var u=[9,13,27,38,40],p=200;return{require:["ngModel","^?ngModelOptions"],link:function(h,f,g,m){function v(){H.moveInProgress||(H.moveInProgress=!0,H.$digest()),Y&&i.cancel(Y),Y=i(function(){H.matches.length&&b(),H.moveInProgress=!1},p)}function b(){H.position=U?s.offset(f):s.position(f),H.position.top+=f.prop("offsetHeight")}d||c.warn("typeahead is now deprecated. Use uib-typeahead instead.");var w=m[0],y=m[1],$=h.$eval(g.typeaheadMinLength);$||0===$||($=1);var C,k,D=h.$eval(g.typeaheadWaitMs)||0,T=h.$eval(g.typeaheadEditable)!==!1,x=t(g.typeaheadLoading).assign||angular.noop,S=t(g.typeaheadOnSelect),M=!!angular.isDefined(g.typeaheadSelectOnBlur)&&h.$eval(g.typeaheadSelectOnBlur),R=t(g.typeaheadNoResults).assign||angular.noop,P=g.typeaheadInputFormatter?t(g.typeaheadInputFormatter):void 0,U=!!g.typeaheadAppendToBody&&h.$eval(g.typeaheadAppendToBody),O=g.typeaheadAppendToElementId||!1,A=h.$eval(g.typeaheadFocusFirst)!==!1,E=!!g.typeaheadSelectOnExact&&h.$eval(g.typeaheadSelectOnExact),I=t(g.ngModel),N=t(g.ngModel+"($$$p)"),L=function(e,t){return angular.isFunction(I(h))&&y&&y.$options&&y.$options.getterSetter?N(e,{$$$p:t}):I.assign(e,t)},W=l.parse(g.typeahead),H=h.$new(),F=h.$on("$destroy",function(){H.$destroy()});H.$on("$destroy",F);var B="typeahead-"+H.$id+"-"+Math.floor(1e4*Math.random());f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B});var V=angular.element("<div typeahead-popup></div>");V.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(g.typeaheadTemplateUrl)&&V.attr("template-url",g.typeaheadTemplateUrl),angular.isDefined(g.typeaheadPopupTemplateUrl)&&V.attr("popup-template-url",g.typeaheadPopupTemplateUrl);var q=function(){H.matches=[],H.activeIdx=-1,f.attr("aria-expanded",!1)},j=function(e){return B+"-option-"+e};H.$watch("activeIdx",function(e){e<0?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",j(e))});var z=function(e,t){return!!(H.matches.length>t&&e)&&e.toUpperCase()===H.matches[t].label.toUpperCase()},_=function(e){var t={$viewValue:e};x(h,!0),R(h,!1),n.when(W.source(h,t)).then(function(n){var i=e===w.$viewValue;if(i&&C)if(n&&n.length>0){H.activeIdx=A?0:-1,R(h,!1),H.matches.length=0;for(var o=0;o<n.length;o++)t[W.itemName]=n[o],H.matches.push({id:j(o),label:W.viewMapper(H,t),model:n[o]});H.query=e,b(),f.attr("aria-expanded",!0),E&&1===H.matches.length&&z(e,0)&&H.select(0)}else q(),R(h,!0);i&&x(h,!1)},function(){q(),x(h,!1),R(h,!0)})};U&&(angular.element(a).bind("resize",v),o.find("body").bind("scroll",v));var Y;H.moveInProgress=!1,q(),H.query=void 0;var G,K=function(e){G=i(function(){_(e)},D)},X=function(){G&&i.cancel(G)};w.$parsers.unshift(function(e){return C=!0,0===$||e&&e.length>=$?D>0?(X(),K(e)):_(e):(x(h,!1),X(),q()),T?e:e?void w.$setValidity("editable",!1):(w.$setValidity("editable",!0),null)}),w.$formatters.push(function(e){var t,n,i={};return T||w.$setValidity("editable",!0),P?(i.$model=e,P(h,i)):(i[W.itemName]=e,t=W.viewMapper(h,i),i[W.itemName]=void 0,n=W.viewMapper(h,i),t!==n?t:e)}),H.select=function(e){var t,n,o={};k=!0,o[W.itemName]=n=H.matches[e].model,t=W.modelMapper(h,o),L(h,t),w.$setValidity("editable",!0),w.$setValidity("parse",!0),S(h,{$item:n,$model:t,$label:W.viewMapper(h,o)}),q(),H.$eval(g.typeaheadFocusOnSelect)!==!1&&i(function(){f[0].focus()},0,!1)},f.bind("keydown",function(e){if(0!==H.matches.length&&u.indexOf(e.which)!==-1){if(H.activeIdx===-1&&(9===e.which||13===e.which))return q(),void H.$digest();e.preventDefault(),40===e.which?(H.activeIdx=(H.activeIdx+1)%H.matches.length,H.$digest()):38===e.which?(H.activeIdx=(H.activeIdx>0?H.activeIdx:H.matches.length)-1,H.$digest()):13===e.which||9===e.which?H.$apply(function(){H.select(H.activeIdx)}):27===e.which&&(e.stopPropagation(),q(),H.$digest())}}),f.bind("blur",function(){M&&H.matches.length&&H.activeIdx!==-1&&!k&&(k=!0,H.$apply(function(){H.select(H.activeIdx)})),C=!1,k=!1});var Q=function(e){f[0]!==e.target&&3!==e.which&&0!==H.matches.length&&(q(),r.$$phase||H.$digest())};o.bind("click",Q),h.$on("$destroy",function(){o.unbind("click",Q),(U||O)&&J.remove(),U&&(angular.element(a).unbind("resize",v),o.find("body").unbind("scroll",v)),V.remove()});var J=e(V)(H);U?o.find("body").append(J):O!==!1?angular.element(o[0].getElementById(O)).append(J):f.after(J)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,i,o){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=o.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,i,o){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,r,s){i||o.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var l=n(s.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(l).then(function(e){t(e.trim())(a,function(e){r.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,i){function o(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function a(e){return/<.*>/g.test(e)}var r;return r=t.has("$sanitize"),function(t,s){return i||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!r&&a(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=s?(""+t).replace(new RegExp(o(s),"gi"),"<strong>$&</strong>"):t,r||(t=e.trustAsHtml(t)),t}}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){r.detach().trigger("closed.bs.alert").remove()}var o=e(this),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var r=e(a);t&&t.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.button"),a="object"==typeof t&&t;o||i.data("bs.button",o=new n(this,a)),"toggle"==t?o.toggle():t&&o.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",a=i.data();t+="Text",null==a.resetText&&i.data("resetText",i[o]()),setTimeout(e.proxy(function(){i[o](null==a[t]?this.options[t]:a[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.carousel"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),r="string"==typeof t?t:a.slide;o||i.data("bs.carousel",o=new n(this,a)),"number"==typeof t?o.to(t):r?o[r]():a.interval&&o.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var o="prev"==e?-1:1,a=(n+o)%this.$items.length;return this.$items.eq(a)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var o=this.$element.find(".item.active"),a=i||this.getItemForDirection(t,o),r=this.interval,s="next"==t?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var c=a[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(a)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,o.addClass(s),a.addClass(s),o.one("bsTransitionEnd",function(){a.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),r&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var o=function(n){var i,o=e(this),a=e(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var r=e.extend({},a.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),t.call(a,r),s&&a.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&a.toggle&&/show|hide/.test(t)&&(a.toggle=!1),o||n.data("bs.collapse",o=new i(this,a)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),t||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[r](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var o=e(i);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=e(this);o.attr("data-target")||i.preventDefault();var a=t(o),r=a.data("bs.collapse"),s=r?"toggle":o.data();n.call(a,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(o).remove(),e(a).each(function(){var i=e(this),o=t(i),a={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(o[0],n.target)||(o.trigger(n=e.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",a))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var o=".dropdown-backdrop",a='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.5",r.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var a=t(o),r=a.hasClass("open");if(n(),!r){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(a.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=t(i),r=o.hasClass("open");if(!r&&27!=n.which||r&&27==n.which)return 27==n.which&&o.find(a).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var o=e(this),a=o.data("bs.modal"),r=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);a||o.data("bs.modal",a=new n(this,r)),"string"==typeof t?a[t](i):r.show&&a.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),o=i.attr("href"),a=e(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(a,r,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tooltip"),a="object"==typeof t&&t;!o&&/destroy|hide/.test(t)||(o||i.data("bs.tooltip",o=new n(this,a)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),a=o.length;a--;){var r=o[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var o=this,a=this.tip(),r=this.getUID(this.type);this.setContent(),a.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),
this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=a[0].offsetWidth,p=a[0].offsetHeight;if(c){var h=s,f=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+p>f.bottom?"top":"top"==s&&d.top-p<f.top?"bottom":"right"==s&&d.right+u>f.width?"left":"left"==s&&d.left-u<f.left?"right":s,a.removeClass(h).addClass(s)}var g=this.getCalculatedOffset(s,d,u,p);this.applyPlacement(g,s);var m=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top+=r,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=a&&(t.top=t.top+a-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),p=u?2*d.left-o+l:2*d.top-a+c,h=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][h],u)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=o.hoverState&&a.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,a=e(this.$tip),r=e.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var a=i?{top:0,left:0}:t.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,r,s,a)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-r.scroll,l=t.top+a-r.scroll+i;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var c=t.left-a,d=t.left+a+n;c<r.left?o.left=r.left-c:d>r.right&&(o.left=r.left+r.width-d)}return o},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.popover"),a="object"==typeof t&&t;!o&&/destroy|hide/.test(t)||(o||i.data("bs.popover",o=new n(this,a)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new t(this,a)),"string"==typeof n&&o[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),a=/^#./.test(o)&&e(o);return a&&a.length&&a.is(":visible")&&[[a[n]().top+i,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return r!=(e=a[a.length-1])&&this.activate(e);if(r&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)r!=a[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof t&&o[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a"),a=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(a),t.trigger(r),!r.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(t,i,o){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=i.find("> .active"),s=o&&e.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),r.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var o=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.affix"),a="object"==typeof t&&t;o||i.data("bs.affix",o=new n(this,a)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var o=this.$target.scrollTop(),a=this.$element.offset(),r=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=a.top)&&"bottom":!(o+r<=e-i)&&"bottom";var s=null==this.affixed,l=s?o:a.top,c=s?r:t;return null!=n&&o<=n?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,o=i.top,a=i.bottom,r=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(a=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var s=this.getState(r,t,o,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-t-a})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),angular.module("angular-img-cropper",[]).directive("imageCropper",["$document","$window","imageCropperDataShare",function(e,t,n){return{scope:{image:"=",croppedImage:"=",cropWidth:"=",cropHeight:"=",keepAspect:"=",touchRadius:"=",cropAreaBounds:"=",minWidth:"=",minHeight:"="},restrict:"A",link:function(e,t){var i,o=o||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n},a=function(){function e(e,t,n){this.over=!1,this.drag=!1,this.position=new u(e,t),this.offset=new u(0,0),this.radius=n}return e.prototype.setDrag=function(e){this.drag=e,this.setOver(e)},e.prototype.draw=function(){},e.prototype.setOver=function(e){this.over=e},e.prototype.touchInBounds=function(e,t){return e>this.position.x-this.radius&&e<this.position.x+this.radius&&t>this.position.y-this.radius&&t<this.position.y+this.radius},e.prototype.getPosition=function(){return this.position},e.prototype.setPosition=function(e,t){this.position.x=e,this.position.y=t},e}(),r=function(){function e(t){this.borrowed=0,e.instance=this;for(var n=null,i=0;t>i;i++)if(0===i)this.firstAvailable=new u,n=this.firstAvailable;else{var o=new u;n.setNext(o),n=o}}return e.prototype.borrow=function(e,t){if(null==this.firstAvailable)throw"Pool exhausted";this.borrowed++;var n=this.firstAvailable;return this.firstAvailable=n.getNext(),n.x=e,n.y=t,n},e.prototype.returnPoint=function(e){this.borrowed--,e.x=0,e.y=0,e.setNext(this.firstAvailable),this.firstAvailable=e},e}(),s=function(){function e(){}return e.init=function(e){this.canvas=e,this.ctx=this.canvas.getContext("2d")},e.DEG2RAD=.0174532925,e}(),l=function(e){function t(t,n,i){e.call(this,t,n,i),this.iconPoints=new Array,this.scaledIconPoints=new Array,this.getDragIconPoints(this.iconPoints,1),this.getDragIconPoints(this.scaledIconPoints,1.2)}return o(t,e),t.prototype.draw=function(e){this.over||this.drag?this.drawIcon(e,this.scaledIconPoints):this.drawIcon(e,this.iconPoints)},t.prototype.getDragIconPoints=function(e,t){var n=17*t,i=14*t,o=8*t,a=4*t;e.push(r.instance.borrow(-a/2,n-o)),e.push(r.instance.borrow(-i/2,n-o)),e.push(r.instance.borrow(0,n)),e.push(r.instance.borrow(i/2,n-o)),e.push(r.instance.borrow(a/2,n-o)),e.push(r.instance.borrow(a/2,a/2)),e.push(r.instance.borrow(n-o,a/2)),e.push(r.instance.borrow(n-o,i/2)),e.push(r.instance.borrow(n,0)),e.push(r.instance.borrow(n-o,-i/2)),e.push(r.instance.borrow(n-o,-a/2)),e.push(r.instance.borrow(a/2,-a/2)),e.push(r.instance.borrow(a/2,-n+o)),e.push(r.instance.borrow(i/2,-n+o)),e.push(r.instance.borrow(0,-n)),e.push(r.instance.borrow(-i/2,-n+o)),e.push(r.instance.borrow(-a/2,-n+o)),e.push(r.instance.borrow(-a/2,-a/2)),e.push(r.instance.borrow(-n+o,-a/2)),e.push(r.instance.borrow(-n+o,-i/2)),e.push(r.instance.borrow(-n,0)),e.push(r.instance.borrow(-n+o,i/2)),e.push(r.instance.borrow(-n+o,a/2)),e.push(r.instance.borrow(-a/2,a/2))},t.prototype.drawIcon=function(e,t){e.beginPath(),e.moveTo(t[0].x+this.position.x,t[0].y+this.position.y);for(var n=0;n<t.length;n++){var i=t[n];e.lineTo(i.x+this.position.x,i.y+this.position.y)}e.closePath(),e.fillStyle="rgba(255,228,0,1)",e.fill()},t.prototype.recalculatePosition=function(e){var t=e.getCentre();this.setPosition(t.x,t.y),r.instance.returnPoint(t)},t}(a),c=function(e){function t(t,n,i){e.call(this,t,n,i)}return o(t,e),t.prototype.drawCornerBorder=function(e){var t=10;(this.over||this.drag)&&(t=12);var n=1,i=1;this.horizontalNeighbour.position.x<this.position.x&&(n=-1),this.verticalNeighbour.position.y<this.position.y&&(i=-1),e.beginPath(),e.lineJoin="miter",e.moveTo(this.position.x,this.position.y),e.lineTo(this.position.x+t*n,this.position.y),e.lineTo(this.position.x+t*n,this.position.y+t*i),e.lineTo(this.position.x,this.position.y+t*i),e.lineTo(this.position.x,this.position.y),e.closePath(),e.lineWidth=2,e.strokeStyle="rgba(255,228,0,1)",e.stroke()},t.prototype.drawCornerFill=function(e){var t=10;(this.over||this.drag)&&(t=12);var n=1,i=1;this.horizontalNeighbour.position.x<this.position.x&&(n=-1),this.verticalNeighbour.position.y<this.position.y&&(i=-1),e.beginPath(),e.moveTo(this.position.x,this.position.y),e.lineTo(this.position.x+t*n,this.position.y),e.lineTo(this.position.x+t*n,this.position.y+t*i),e.lineTo(this.position.x,this.position.y+t*i),e.lineTo(this.position.x,this.position.y),e.closePath(),e.fillStyle="rgba(0,0,0,1)",e.fill()},t.prototype.moveX=function(e){this.setPosition(e,this.position.y)},t.prototype.moveY=function(e){this.setPosition(this.position.x,e)},t.prototype.move=function(e,t){this.setPosition(e,t),this.verticalNeighbour.moveX(e),this.horizontalNeighbour.moveY(t)},t.prototype.addHorizontalNeighbour=function(e){this.horizontalNeighbour=e},t.prototype.addVerticalNeighbour=function(e){this.verticalNeighbour=e},t.prototype.getHorizontalNeighbour=function(){return this.horizontalNeighbour},t.prototype.getVerticalNeighbour=function(){return this.verticalNeighbour},t.prototype.draw=function(e){this.drawCornerFill(e),this.drawCornerBorder(e)},t}(a),d=function(){function e(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.left=e,this.right=e+n,this.top=t,this.bottom=t+i}return e.prototype.getWidth=function(){return this.right-this.left},e.prototype.getHeight=function(){return this.bottom-this.top},e.prototype.getCentre=function(){var e=this.getWidth(),t=this.getHeight();return r.instance.borrow(this.left+e/2,this.top+t/2)},e}(),u=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.setNext=function(e){this.next=e},e.prototype.getNext=function(){return this.next},e}(),p=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.id=0,this.x=e,this.y=t,this.id=n}return e}(),h=function(){function t(e,t,n,i,o,a,d){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=100),void 0===o&&(o=50),void 0===a&&(a=!0),void 0===d&&(d=20),this.keepAspect=!1,this.aspectRatio=0,this.currentDragTouches=new Array,this.isMouseDown=!1,this.ratioW=1,this.ratioH=1,this.fileType="png",this.imageSet=!1,this.pointPool=new r(200),s.init(e),this.buffer=document.createElement("canvas"),this.cropCanvas=document.createElement("canvas"),this.buffer.width=e.width,this.buffer.height=e.height,this.tl=new c(t,n,d),this.tr=new c(t+i,n,d),this.bl=new c(t,n+o,d),this.br=new c(t+i,n+o,d),this.tl.addHorizontalNeighbour(this.tr),this.tl.addVerticalNeighbour(this.bl),this.tr.addHorizontalNeighbour(this.tl),this.tr.addVerticalNeighbour(this.br),this.bl.addHorizontalNeighbour(this.br),this.bl.addVerticalNeighbour(this.tl),this.br.addHorizontalNeighbour(this.bl),this.br.addVerticalNeighbour(this.tr),this.markers=[this.tl,this.tr,this.bl,this.br],this.center=new l(t+i/2,n+o/2,d),this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.keepAspect=a,this.aspectRatio=o/i,this.draw(this.ctx),this.croppedImage=new Image,this.currentlyInteracting=!1,window.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("mousedown",this.onMouseDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this),!1),e.addEventListener("touchstart",this.onTouchStart.bind(this),!1),window.addEventListener("touchend",this.onTouchEnd.bind(this),!1)}return t.prototype.resizeCanvas=function(e,t){this.canvas.width=e,this.canvas.height=t,this.buffer.width=e,this.buffer.height=t,this.draw(this.ctx)},t.prototype.draw=function(e){var t=this.getBounds();if(this.srcImage){e.clearRect(0,0,this.canvasWidth,this.canvasHeight);var n=this.srcImage.height/this.srcImage.width,i=this.canvasHeight/this.canvasWidth,o=this.canvasWidth,a=this.canvasHeight;i>n?(o=this.canvasWidth,a=this.canvasWidth*n):(a=this.canvasHeight,o=this.canvasHeight/n),this.ratioW=o/this.srcImage.width,this.ratioH=a/this.srcImage.height,n>i?this.drawImageIOSFix(e,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,this.buffer.width/2-o/2,0,o,a):this.drawImageIOSFix(e,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,0,this.buffer.height/2-a/2,o,a),this.buffer.getContext("2d").drawImage(this.canvas,0,0,this.canvasWidth,this.canvasHeight),e.fillStyle="rgba(0, 0, 0, 0.7)",e.fillRect(0,0,this.canvasWidth,this.canvasHeight),e.drawImage(this.buffer,t.left,t.top,Math.max(t.getWidth(),1),Math.max(t.getHeight(),1),t.left,t.top,t.getWidth(),t.getHeight());for(var r,s=0;s<this.markers.length;s++)r=this.markers[s],r.draw(e);this.center.draw(e),e.lineWidth=2,e.strokeStyle="rgba(255,228,0,1)",e.strokeRect(t.left,t.top,t.getWidth(),t.getHeight())}else e.fillStyle="rgba(192,192,192,1)",e.fillRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.dragCrop=function(t,n,i){var o=this.getBounds(),a=t-o.getWidth()/2,r=t+o.getWidth()/2,s=n-o.getHeight()/2,l=n+o.getHeight()/2;r>=this.maxXClamp&&(t=this.maxXClamp-o.getWidth()/2),a<=this.minXClamp&&(t=o.getWidth()/2+this.minXClamp),s<this.minYClamp&&(n=o.getHeight()/2+this.minYClamp),l>=this.maxYClamp&&(n=this.maxYClamp-o.getHeight()/2),this.tl.moveX(t-o.getWidth()/2),this.tl.moveY(n-o.getHeight()/2),this.tr.moveX(t+o.getWidth()/2),this.tr.moveY(n-o.getHeight()/2),this.bl.moveX(t-o.getWidth()/2),this.bl.moveY(n+o.getHeight()/2),this.br.moveX(t+o.getWidth()/2),this.br.moveY(n+o.getHeight()/2),i.setPosition(t,n),e.cropAreaBounds&&this.imageSet&&(e.cropAreaBounds=this.getCropBounds(),e.$apply())},t.prototype.enforceMinSize=function(t,n,i){var o=t-i.getHorizontalNeighbour().getPosition().x,a=n-i.getVerticalNeighbour().getPosition().y,s=e.minWidth-Math.abs(o),l=e.minHeight-Math.abs(a);return 0==o||0==a?(t=i.getPosition().x,n=i.getPosition().y,r.instance.borrow(t,n)):(e.keepAspect?s>0&&l/this.aspectRatio>0?s>l/this.aspectRatio?0>o?(t-=s,0>a?n-=s*this.aspectRatio:n+=s*this.aspectRatio):(t+=s,0>a?n-=s*this.aspectRatio:n+=s*this.aspectRatio):0>a?(n-=l,0>o?t-=l/this.aspectRatio:t+=l/this.aspectRatio):(n+=l,0>o?t-=l/this.aspectRatio:t+=l/this.aspectRatio):s>0?0>o?(t-=s,0>a?n-=s*this.aspectRatio:n+=s*this.aspectRatio):(t+=s,0>a?n-=s*this.aspectRatio:n+=s*this.aspectRatio):l>0&&(0>a?(n-=l,0>o?t-=l/this.aspectRatio:t+=l/this.aspectRatio):(n+=l,0>o?t-=l/this.aspectRatio:t+=l/this.aspectRatio)):(s>0&&(0>o?t-=s:t+=s),l>0&&(0>a?n-=l:n+=l)),(t<this.minXClamp||t>this.maxXClamp||n<this.minYClamp||n>this.maxYClamp)&&(t=i.getPosition().x,n=i.getPosition().y),r.instance.borrow(t,n))},t.prototype.dragCorner=function(t,n,i){var o,a=0,s=0,l=0,c=0,d=0,u=0,p=0,h=0,f=0;if(e.keepAspect){if(o=i.getHorizontalNeighbour().getVerticalNeighbour(),l=o.getPosition().x,c=o.getPosition().y,t<=o.getPosition().x){if(n<=o.getPosition().y){if(a=l-100/this.aspectRatio,s=c-100/this.aspectRatio*this.aspectRatio,f=this.getSide(r.instance.borrow(a,s),o.getPosition(),r.instance.borrow(t,n)),f>0){d=Math.abs(o.getPosition().y-n),u=d/this.aspectRatio,p=o.getPosition().y-d,h=o.getPosition().x-u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}else if(0>f){u=Math.abs(o.getPosition().x-t),d=u*this.aspectRatio,p=o.getPosition().y-d,h=o.getPosition().x-u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}}else if(a=l-100/this.aspectRatio,s=c+100/this.aspectRatio*this.aspectRatio,f=this.getSide(r.instance.borrow(a,s),o.getPosition(),r.instance.borrow(t,n)),f>0){u=Math.abs(o.getPosition().x-t),d=u*this.aspectRatio,p=o.getPosition().y+d,h=o.getPosition().x-u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}else if(0>f){d=Math.abs(o.getPosition().y-n),u=d/this.aspectRatio,p=o.getPosition().y+d,h=o.getPosition().x-u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}}else if(n<=o.getPosition().y){if(a=l+100/this.aspectRatio,s=c-100/this.aspectRatio*this.aspectRatio,f=this.getSide(r.instance.borrow(a,s),o.getPosition(),r.instance.borrow(t,n)),0>f){d=Math.abs(o.getPosition().y-n),u=d/this.aspectRatio,p=o.getPosition().y-d,h=o.getPosition().x+u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}else if(f>0){u=Math.abs(o.getPosition().x-t),d=u*this.aspectRatio,p=o.getPosition().y-d,h=o.getPosition().x+u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}}else if(a=l+100/this.aspectRatio,s=c+100/this.aspectRatio*this.aspectRatio,f=this.getSide(r.instance.borrow(a,s),o.getPosition(),r.instance.borrow(t,n)),0>f){u=Math.abs(o.getPosition().x-t),d=u*this.aspectRatio,p=o.getPosition().y+d,h=o.getPosition().x+u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}else if(f>0){d=Math.abs(o.getPosition().y-n),u=d/this.aspectRatio,p=o.getPosition().y+d,h=o.getPosition().x+u;var g=this.enforceMinSize(h,p,i);i.move(g.x,g.y),r.instance.returnPoint(g)}}else{var g=this.enforceMinSize(t,n,i);i.move(g.x,g.y),r.instance.returnPoint(g)}this.center.recalculatePosition(this.getBounds()),e.cropAreaBounds&&this.imageSet&&(e.cropAreaBounds=this.getCropBounds(),e.$apply())},t.prototype.getSide=function(e,t,n){var i=this.sign((t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x));return r.instance.returnPoint(e),r.instance.returnPoint(n),i},t.prototype.sign=function(e){return+e===e?0===e?e:e>0?1:-1:NaN},t.prototype.handleRelease=function(e){if(null!=e){for(var t=0,n=0;n<this.currentDragTouches.length;n++)e.id==this.currentDragTouches[n].id&&(this.currentDragTouches[n].dragHandle.setDrag(!1),e.dragHandle=null,t=n);this.currentDragTouches.splice(t,1),this.draw(this.ctx)}},t.prototype.handleMove=function(e){for(var t=!1,i=0;i<this.currentDragTouches.length;i++)if(e.id==this.currentDragTouches[i].id&&null!=this.currentDragTouches[i].dragHandle){var o=this.currentDragTouches[i],a=this.clampPosition(e.x-o.dragHandle.offset.x,e.y-o.dragHandle.offset.y);e.x=a.x,e.y=a.y,r.instance.returnPoint(a),o.dragHandle instanceof c?this.dragCorner(e.x,e.y,o.dragHandle):this.dragCrop(e.x,e.y,o.dragHandle),this.currentlyInteracting=!0,t=!0,n.setPressed(this.canvas);break}if(!t){for(var s=0;s<this.markers.length;s++){var l=this.markers[s];if(l.touchInBounds(e.x,e.y)){e.dragHandle=l,this.currentDragTouches.push(e),l.setDrag(!0),e.dragHandle.offset.x=e.x-e.dragHandle.getPosition().x,e.dragHandle.offset.y=e.y-e.dragHandle.getPosition().y,this.dragCorner(e.x-e.dragHandle.offset.x,e.y-e.dragHandle.offset.y,e.dragHandle);break}}null==e.dragHandle&&this.center.touchInBounds(e.x,e.y)&&(e.dragHandle=this.center,this.currentDragTouches.push(e),e.dragHandle.setDrag(!0),e.dragHandle.offset.x=e.x-e.dragHandle.getPosition().x,e.dragHandle.offset.y=e.y-e.dragHandle.getPosition().y,this.dragCrop(e.x-e.dragHandle.offset.x,e.y-e.dragHandle.offset.y,e.dragHandle))}},t.prototype.updateClampBounds=function(){var e=this.srcImage.height/this.srcImage.width,t=this.canvas.height/this.canvas.width,n=this.canvas.width,i=this.canvas.height;t>e?(n=this.canvas.width,i=this.canvas.width*e):(i=this.canvas.height,n=this.canvas.height/e),this.minXClamp=this.canvas.width/2-n/2,this.minYClamp=this.canvas.height/2-i/2,this.maxXClamp=this.canvas.width/2+n/2,this.maxYClamp=this.canvas.height/2+i/2},t.prototype.getCropBounds=function(){var e=this.canvas.height-2*this.minYClamp,t=this.getBounds();return t.top=Math.round((e-t.top+this.minYClamp)/this.ratioH),t.bottom=Math.round((e-t.bottom+this.minYClamp)/this.ratioH),t.left=Math.round((t.left-this.minXClamp)/this.ratioW),t.right=Math.round((t.right-this.minXClamp)/this.ratioW),t},t.prototype.clampPosition=function(e,t){return e<this.minXClamp&&(e=this.minXClamp),e>this.maxXClamp&&(e=this.maxXClamp),t<this.minYClamp&&(t=this.minYClamp),t>this.maxYClamp&&(t=this.maxYClamp),r.instance.borrow(e,t)},t.prototype.isImageSet=function(){return this.imageSet},t.prototype.setImage=function(t){if(!t)throw"Image is null";this.imageSet=!0,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var n=this.buffer.getContext("2d");n.clearRect(0,0,this.buffer.width,this.buffer.height);var i=t.src.split("."),o=i[1];("png"==o||"jpg"==o)&&(this.fileType=o),this.srcImage=t,this.updateClampBounds();var a=this.srcImage.height/this.srcImage.width,s=this.getBounds(),l=s.getHeight()/s.getWidth(),c=this.canvas.width,d=this.canvas.height;this.canvasWidth=c,this.canvasHeight=d;var u=this.canvas.width/2,p=this.canvas.height/2,h=r.instance.borrow(u-s.getWidth()/2,p+s.getHeight()/2),f=r.instance.borrow(u+s.getWidth()/2,p+s.getHeight()/2),g=r.instance.borrow(u-s.getWidth()/2,p-s.getHeight()/2),m=r.instance.borrow(u+s.getWidth()/2,p-s.getHeight()/2);if(this.tl.setPosition(h.x,h.y),this.tr.setPosition(f.x,f.y),this.bl.setPosition(g.x,g.y),this.br.setPosition(m.x,m.y),r.instance.returnPoint(h),r.instance.returnPoint(f),r.instance.returnPoint(g),r.instance.returnPoint(m),this.center.setPosition(u,p),l>a){var v=Math.min(c*a,d),b=v/l;h=r.instance.borrow(u-b/2,p+v/2),f=r.instance.borrow(u+b/2,p+v/2),g=r.instance.borrow(u-b/2,p-v/2),m=r.instance.borrow(u+b/2,p-v/2),this.tl.setPosition(h.x,h.y),this.tr.setPosition(f.x,f.y),this.bl.setPosition(g.x,g.y),this.br.setPosition(m.x,m.y),r.instance.returnPoint(h),r.instance.returnPoint(f),r.instance.returnPoint(g),r.instance.returnPoint(m)}else if(a>l){var w=Math.min(d/a,c),y=w*l;h=r.instance.borrow(u-w/2,p+y/2),f=r.instance.borrow(u+w/2,p+y/2),g=r.instance.borrow(u-w/2,p-y/2),m=r.instance.borrow(u+w/2,p-y/2),this.tl.setPosition(h.x,h.y),this.tr.setPosition(f.x,f.y),this.bl.setPosition(g.x,g.y),this.br.setPosition(m.x,m.y),r.instance.returnPoint(h),r.instance.returnPoint(f),r.instance.returnPoint(g),r.instance.returnPoint(m)}this.vertSquashRatio=this.detectVerticalSquash(t),this.draw(this.ctx);var $=this.getCroppedImage(e.cropWidth,e.cropHeight);e.croppedImage=$.src,e.cropAreaBounds&&this.imageSet&&(e.cropAreaBounds=this.getCropBounds(),e.$apply())},t.prototype.getCroppedImage=function(e,t){var n=this.getBounds();if(!this.srcImage)throw"Source image not set.";if(e&&t){var i=this.srcImage.height/this.srcImage.width,o=this.canvas.height/this.canvas.width,a=this.canvas.width,r=this.canvas.height;o>i?(a=this.canvas.width,r=this.canvas.width*i):i>o?(r=this.canvas.height,a=this.canvas.height/i):(r=this.canvas.height,a=this.canvas.width),this.ratioW=a/this.srcImage.width,this.ratioH=r/this.srcImage.height,this.cropCanvas.width=e,this.cropCanvas.height=t;var s=(this.buffer.height-r)/2/this.ratioH,l=(this.buffer.width-a)/2/this.ratioW;this.drawImageIOSFix(this.cropCanvas.getContext("2d"),this.srcImage,Math.max(Math.round(n.left/this.ratioW-l),0),Math.max(Math.round(n.top/this.ratioH-s),0),Math.max(Math.round(n.getWidth()/this.ratioW),1),Math.max(Math.round(n.getHeight()/this.ratioH),1),0,0,e,t),this.croppedImage.width=e,this.croppedImage.height=t}else this.cropCanvas.width=Math.max(n.getWidth(),1),this.cropCanvas.height=Math.max(n.getHeight(),1),this.cropCanvas.getContext("2d").drawImage(this.buffer,n.left,n.top,Math.max(n.getWidth(),1),Math.max(n.getHeight(),1),0,0,n.getWidth(),n.getHeight()),this.croppedImage.width=this.cropCanvas.width,this.croppedImage.height=this.cropCanvas.height;return this.croppedImage.src=this.cropCanvas.toDataURL("image/"+this.fileType),this.croppedImage;
},t.prototype.getBounds=function(){for(var e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=-Number.MAX_VALUE,o=0;o<this.markers.length;o++){var a=this.markers[o];a.getPosition().x<e&&(e=a.getPosition().x),a.getPosition().x>n&&(n=a.getPosition().x),a.getPosition().y<t&&(t=a.getPosition().y),a.getPosition().y>i&&(i=a.getPosition().y)}var r=new d;return r.left=e,r.right=n,r.top=t,r.bottom=i,r},t.prototype.setBounds=function(e){for(var t,n,i,o,a=this.getBounds(),r=0;r<this.markers.length;r++){var s=this.markers[r];s.getPosition().x==a.left?s.getPosition().y==a.top?t=s:i=s:s.getPosition().y==a.top?n=s:o=s}t.setPosition(e.left,e.top),n.setPosition(e.right,e.top),i.setPosition(e.left,e.bottom),o.setPosition(e.right,e.bottom),this.center.recalculatePosition(e),this.center.draw(this.ctx)},t.prototype.getMousePos=function(e,t){var n=e.getBoundingClientRect();return r.instance.borrow(t.clientX-n.left,t.clientY-n.top)},t.prototype.getTouchPos=function(e,t){var n=e.getBoundingClientRect();return r.instance.borrow(t.clientX-n.left,t.clientY-n.top)},t.prototype.onTouchMove=function(e){if(i.isImageSet()){if(e.preventDefault(),e.touches.length>=1)for(var t=0;t<e.touches.length;t++){var n=e.touches[t],o=this.getTouchPos(this.canvas,n),a=new p(o.x,o.y,n.identifier);r.instance.returnPoint(o),this.move(a,e)}this.draw(this.ctx)}},t.prototype.onMouseMove=function(e){if(i.isImageSet()){var t=this.getMousePos(this.canvas,e);this.move(new p(t.x,t.y,0),e);var n=this.getDragTouchForID(0);n?(n.x=t.x,n.y=t.y):n=new p(t.x,t.y,0),r.instance.returnPoint(t),this.drawCursors(n,e),this.draw(this.ctx)}},t.prototype.move=function(e){this.isMouseDown&&this.handleMove(e)},t.prototype.getDragTouchForID=function(e){for(var t=0;t<this.currentDragTouches.length;t++)if(e==this.currentDragTouches[t].id)return this.currentDragTouches[t]},t.prototype.drawCursors=function(e,t){var i=!1;null!=e&&(e.dragHandle==this.center&&(n.setStyle(this.canvas,"move"),i=!0),null!=e.dragHandle&&e.dragHandle instanceof c&&(this.drawCornerCursor(e.dragHandle,e.dragHandle.getPosition().x,e.dragHandle.getPosition().y,t),i=!0));var o=!1;if(!i){for(var a=0;a<this.markers.length;a++)o=o||this.drawCornerCursor(this.markers[a],e.x,e.y,t);o||n.setStyle(this.canvas,"initial")}o||i||!this.center.touchInBounds(e.x,e.y)?this.center.setOver(!1):(this.center.setOver(!0),n.setOver(this.canvas),n.setStyle(this.canvas,"move"))},t.prototype.drawCornerCursor=function(e,t,i){return e.touchInBounds(t,i)?(e.setOver(!0),e.getHorizontalNeighbour().getPosition().x>e.getPosition().x?e.getVerticalNeighbour().getPosition().y>e.getPosition().y?(n.setOver(this.canvas),n.setStyle(this.canvas,"nwse-resize")):(n.setOver(this.canvas),n.setStyle(this.canvas,"nesw-resize")):e.getVerticalNeighbour().getPosition().y>e.getPosition().y?(n.setOver(this.canvas),n.setStyle(this.canvas,"nesw-resize")):(n.setOver(this.canvas),n.setStyle(this.canvas,"nwse-resize")),!0):(e.setOver(!1),!1)},t.prototype.onTouchStart=function(){i.isImageSet()&&(this.isMouseDown=!0)},t.prototype.onTouchEnd=function(t){if(i.isImageSet()){for(var n=0;n<t.changedTouches.length;n++){var o=t.changedTouches[n],a=this.getDragTouchForID(o.identifier);null!=a&&((a.dragHandle instanceof c||a.dragHandle instanceof l)&&a.dragHandle.setOver(!1),this.handleRelease(a))}if(i.isImageSet()&&this.currentlyInteracting){var r=this.getCroppedImage(e.cropWidth,e.cropHeight);e.croppedImage=r.src,e.$apply()}0==this.currentDragTouches.length&&(this.isMouseDown=!1,this.currentlyInteracting=!1)}},t.prototype.drawImageIOSFix=function(e,t,n,i,o,a,r,s,l,c){e.drawImage(t,n*this.vertSquashRatio,i*this.vertSquashRatio,o*this.vertSquashRatio,a*this.vertSquashRatio,r,s,l,c)},t.prototype.detectVerticalSquash=function(e){var t=(e.naturalWidth,e.naturalHeight),n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var o=i.getImageData(0,0,1,t).data,a=0,r=t,s=t;s>a;){var l=o[4*(s-1)+3];0===l?r=s:a=s,s=r+a>>1}var c=s/t;return 0===c?1:c},t.prototype.onMouseDown=function(){i.isImageSet()&&(this.isMouseDown=!0)},t.prototype.onMouseUp=function(){if(i.isImageSet()){if(n.setReleased(this.canvas),this.isMouseDown=!1,this.handleRelease(new p(0,0,0)),1==this.currentlyInteracting){var t=this.getCroppedImage(e.cropWidth,e.cropHeight);e.croppedImage=t.src,e.$apply()}this.currentlyInteracting=!1}},t}();angular.element(document).ready(function(){var n=angular.element(t[0]),o=n[0],a=e.cropWidth,r=e.cropHeight,s=e.keepAspect,l=e.touchRadius;i=new h(o,o.width/2-a/2,o.height/2-r/2,a,r,s,l)}),e.$watch("image",function(t){if(null!=t){var n=new Image;n.addEventListener("load",function(){i.setImage(n);var t=i.getCroppedImage(e.cropWidth,e.cropHeight);e.croppedImage=t.src,e.$apply()},!1),n.src=t}})}}}]),angular.module("angular-img-cropper").directive("imgCropperFileread",["$timeout",function(e){return{scope:{image:"="},link:function(t,n){n.bind("change",function(n){var i=new FileReader;i.onload=function(n){e(function(){t.image=n.target.result},0)},n.target.files[0]&&i.readAsDataURL(n.target.files[0])})}}}]),angular.module("angular-img-cropper").directive("imgCropperFilereadCall",function(){return{scope:{control:"="},link:function(e){e.internalControl=e.control||{},e.internalControl.load=function(e){var t=angular.element(document.querySelector(e)),n=document.createEvent("MouseEvent");n.initEvent("click",!0,!1),t[0].dispatchEvent(n)}}}}),angular.module("angular-img-cropper").factory("imageCropperDataShare",function(){var e,t,n={};return n.setPressed=function(t){e=t},n.setReleased=function(t){t===e&&(e=void 0)},n.setOver=function(e){t=e},n.setStyle=function(n,i){void 0!==e?e===n&&angular.element(document.documentElement).css("cursor",i):n===t&&angular.element(document.documentElement).css("cursor",i)},n}),RecordRTC.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),DiskStorage.Fetch(function(n,i){"all"!==e&&i===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,i.replace("Blob",""))})},RecordRTC.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),e=e||{},e.audio&&e.video&&e.gif?e.audio.getDataURL(function(t){e.video.getDataURL(function(n){e.gif.getDataURL(function(e){DiskStorage.Store({audioBlob:t,videoBlob:n,gifBlob:e})})})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){DiskStorage.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){DiskStorage.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getDataURL(function(t){e.gif.getDataURL(function(e){DiskStorage.Store({videoBlob:t,gifBlob:e})})}):e.audio?e.audio.getDataURL(function(e){DiskStorage.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){DiskStorage.Store({videoBlob:e})}):e.gif&&e.gif.getDataURL(function(e){DiskStorage.Store({gifBlob:e})})},"undefined"!=typeof module&&(module.exports=RecordRTC),"function"==typeof define&&define.amd&&define("RecordRTC",[],function(){return RecordRTC}),MRecordRTC.getFromDisk=RecordRTC.getFromDisk,MRecordRTC.writeToDisk=RecordRTC.writeToDisk,"undefined"!=typeof RecordRTC&&(RecordRTC.MRecordRTC=MRecordRTC);var browserFakeUserAgent="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";!function(e){e&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:browserFakeUserAgent,getUserMedia:function(){}},global.console||(global.console={}),"undefined"==typeof global.console.debug&&(global.console.debug=global.console.info=global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(e.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""}};return e},e.HTMLVideoElement=function(){}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}),"undefined"==typeof URL&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=global)}("undefined"!=typeof global?global:null);var requestAnimationFrame=window.requestAnimationFrame;"undefined"==typeof requestAnimationFrame&&("undefined"!=typeof webkitRequestAnimationFrame&&(requestAnimationFrame=webkitRequestAnimationFrame),"undefined"!=typeof mozRequestAnimationFrame&&(requestAnimationFrame=mozRequestAnimationFrame));var cancelAnimationFrame=window.cancelAnimationFrame;"undefined"==typeof cancelAnimationFrame&&("undefined"!=typeof webkitCancelAnimationFrame&&(cancelAnimationFrame=webkitCancelAnimationFrame),"undefined"!=typeof mozCancelAnimationFrame&&(cancelAnimationFrame=mozCancelAnimationFrame));var AudioContext=window.AudioContext;"undefined"==typeof AudioContext&&("undefined"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(AudioContext=mozAudioContext));var URL=window.URL;"undefined"==typeof URL&&"undefined"!=typeof webkitURL&&(URL=webkitURL),"undefined"!=typeof navigator&&"undefined"==typeof navigator.getUserMedia&&("undefined"!=typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!=typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var isEdge=!(navigator.userAgent.indexOf("Edge")===-1||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),isOpera=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,isChrome=!isOpera&&!isEdge&&!!navigator.webkitGetUserMedia,MediaStream=window.MediaStream;"undefined"==typeof MediaStream&&"undefined"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),"undefined"!=typeof MediaStream&&("getVideoTracks"in MediaStream.prototype||(MediaStream.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){t.kind.toString().indexOf("video")!==-1&&e.push(t)}),e},MediaStream.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){t.kind.toString().indexOf("audio")!==-1&&e.push(t)}),e}),"stop"in MediaStream.prototype||(MediaStream.prototype.stop=function(){this.getAudioTracks().forEach(function(e){e.stop&&e.stop()}),this.getVideoTracks().forEach(function(e){e.stop&&e.stop()})}));var Storage={};"undefined"!=typeof AudioContext?Storage.AudioContext=AudioContext:"undefined"!=typeof webkitAudioContext&&(Storage.AudioContext=webkitAudioContext),"undefined"!=typeof RecordRTC&&(RecordRTC.Storage=Storage),"undefined"!=typeof RecordRTC&&(RecordRTC.MediaStreamRecorder=MediaStreamRecorder),"undefined"!=typeof RecordRTC&&(RecordRTC.StereoAudioRecorder=StereoAudioRecorder),"undefined"!=typeof RecordRTC&&(RecordRTC.CanvasRecorder=CanvasRecorder),"undefined"!=typeof RecordRTC&&(RecordRTC.WhammyRecorder=WhammyRecorder);var Whammy=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n}function n(e){function t(e){var t=i(e);if(!t)return[];for(var o=3e4,a=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:p(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],r=0,l=0;r<e.length;){var c=[],d=0;do c.push(e[r]),d+=e[r].duration,r++;while(r<e.length&&d<o);var u=0,h={id:524531317,data:n(l,u,c)};a[1].data.push(h),l+=d}return s(a)}function n(e,t,n){return[{data:e,id:231}].concat(n.map(function(e){var n=l({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}}))}function i(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,i=e[0].duration,o=1;o<e.length;o++)i+=e[o].duration;return{duration:i,width:t,height:n}}function o(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function a(e){return new Uint8Array(e.split("").map(function(e){return e.charCodeAt(0)}))}function r(e){var t=[],n=e.length%8?new Array(9-e.length%8).join("0"):"";e=n+e;for(var i=0;i<e.length;i+=8)t.push(parseInt(e.substr(i,8),2));return new Uint8Array(t)}function s(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].data;"object"==typeof i&&(i=s(i)),"number"==typeof i&&(i=r(i.toString(2))),"string"==typeof i&&(i=a(i));var l=i.size||i.byteLength||i.length,c=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),d=l.toString(2),u=new Array(7*c+7+1-d.length).join("0")+d,p=new Array(c).join("0")+"1"+u;t.push(o(e[n].id)),t.push(r(p)),t.push(i)}return new Blob(t,{type:"video/webm"})}function l(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";var n=[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame;return n}function c(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),i=0,o=[];i<4;i++)o[i]=t.charCodeAt(n+3+i);var a,r,s;return s=o[1]<<8|o[0],a=16383&s,s=o[3]<<8|o[2],r=16383&s,{width:a,height:r,data:t,riff:e}}function d(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}function u(e){for(var t=0,n={};t<e.length;){var i=e.substr(t,4),o=d(e,t),a=e.substr(t+4+4,o);t+=8+o,n[i]=n[i]||[],"RIFF"===i||"LIST"===i?n[i].push(u(a)):n[i].push(a)}return n}function p(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")}var h=new t(e.map(function(e){var t=c(u(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(h)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var i=t(n);i.onmessage=function(t){return t.data.error?void console.error(t.data.error):void e(t.data)},i.postMessage(this.frames)},{Video:e}}();"undefined"!=typeof RecordRTC&&(RecordRTC.Whammy=Whammy);var DiskStorage={init:function(){function e(e){e.createObjectStore(n.dataStoreName)}function t(){function e(e){t.objectStore(n.dataStoreName).get(e).onsuccess=function(t){n.callback&&n.callback(t.target.result,e)}}var t=i.transaction([n.dataStoreName],"readwrite");n.videoBlob&&t.objectStore(n.dataStoreName).put(n.videoBlob,"videoBlob"),n.gifBlob&&t.objectStore(n.dataStoreName).put(n.gifBlob,"gifBlob"),n.audioBlob&&t.objectStore(n.dataStoreName).put(n.audioBlob,"audioBlob"),e("audioBlob"),e("videoBlob"),e("gifBlob")}var n=this;if("undefined"==typeof indexedDB||"undefined"==typeof indexedDB.open)return void console.error("IndexedDB API are not available in this browser.");var i,o=1,a=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),r=indexedDB.open(a,o);r.onerror=n.onError,r.onsuccess=function(){if(i=r.result,i.onerror=n.onError,i.setVersion)if(i.version!==o){var a=i.setVersion(o);a.onsuccess=function(){e(i),t()}}else t();else t()},r.onupgradeneeded=function(t){e(t.target.result)}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};"undefined"!=typeof RecordRTC&&(RecordRTC.DiskStorage=DiskStorage),"undefined"!=typeof RecordRTC&&(RecordRTC.GifRecorder=GifRecorder),angular.module("FredrikSandell.worker-pool",[]).service("WorkerService",["$q",function(e){function t(e){var t="";return angular.forEach(c,function(e){t+="importScripts('"+e+"');\n"}),angular.forEach(e,function(e){d[e]&&(t+="importScripts('"+d[e].url+"');")}),t}function n(e){var t=[];return angular.forEach(e,function(e){d[e]&&t.push("'"+d[e].moduleName+"'")}),t.join(",")}function i(e){var i=e.filter(function(e){return"input"!==e&&"output"!==e&&"$q"!==e}),o={dependencies:i,moduleList:n(i),angularDepsAsStrings:i.length>0?","+i.map(function(e){return"'"+e+"'"}).join(","):"",angularDepsAsParamList:i.length>0?","+i.join(","):"",servicesIncludeStatements:t(i)};return o.workerFuncParamList="input,output"+o.angularDepsAsParamList,o}function o(e,t){return u.replace("<URL_TO_ANGULAR>",s).replace("<CUSTOM_DEP_INCLUDES>",t.servicesIncludeStatements).replace("<DEP_MODULES>",t.moduleList).replace("<STRING_DEP_NAMES>",t.angularDepsAsStrings).replace("<DEP_NAMES>",t.angularDepsAsParamList).replace("<WORKER_FUNCTION>",e.toString())}function a(e){return e.slice(0,e.length-1)}function r(e,t){return"("+e.toString()+")("+t+")"}var s,l={},c=[],d={},u=["","var window = self;","self.history = {};","self.Node = function () {};","var document = {","      readyState: 'complete',","      cookie: '',","      querySelector: function () {},","      createElement: function () {","          return {","              pathname: '',","              setAttribute: function () {}","          };","      }","};","importScripts('<URL_TO_ANGULAR>');","<CUSTOM_DEP_INCLUDES>","angular = window.angular;","var workerApp = angular.module('WorkerApp', [<DEP_MODULES>]);","workerApp.run(['$q'<STRING_DEP_NAMES>, function ($q<DEP_NAMES>) {","  self.addEventListener('message', function(e) {","    var input = e.data;","    var output = $q.defer();","    var promise = output.promise;","    promise.then(function(success) {","      self.postMessage({event:'success', data : success});","    }, function(reason) {","      self.postMessage({event:'failure', data : reason});","    }, function(update) {","      self.postMessage({event:'update', data : update});","    });","    <WORKER_FUNCTION>;","  });","  self.postMessage({event:'initDone'});","}]);","angular.bootstrap(null, ['WorkerApp']);"].join("\n");l.setAngularUrl=function(e){return s=e,l},l.addLibrary=function(e){c.push(e)},l.addDependency=function(e,t,n){return d[e]={url:n,moduleName:t},l},l.createAngularWorker=function(t){if(!Array.isArray(t)||t.length<3||"function"!=typeof t[t.length-1])throw"Input needs to be: ['input','output'/*optional additional dependencies*/,\n    function(workerInput, deferredOutput /*optional additional dependencies*/)\n        {/*worker body*/}]";if("string"!=typeof s)throw"The url to angular must be defined before worker creation";var n=e.defer(),l=i(a(t)),c=(window.URL?URL:webkitURL).createObjectURL(new Blob([o(r(t[t.length-1],l.workerFuncParamList),l)],{type:"application/javascript"})),d=new Worker(c);return d.addEventListener("message",function(e){var t=e.data.event;"initDone"===t?n.resolve(p(d)):n.reject(e)}),n.promise};var p=function(t){var n={};return n.worker=t,n.run=function(n){var i=e.defer();return t.addEventListener("message",function(e){var t=e.data.event;if("initDone"===t)throw"Received worker initialization in run method. This should already have occurred!";"success"===t?i.resolve(e.data.data):"failure"===t?i.reject(e.data.data):"update"===t?i.notify(e.data.data):i.reject(e)}),t.postMessage(n),i.promise},n.terminate=function(){t.terminate()},n};return l}]);